(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{94571:(e,s,a)=>{Promise.resolve().then(a.bind(a,23798))},23798:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>A});var t=a(39233),l=a(65843),r=a(95155),i=a(12115),n=a(67396),c=a(59909),d=a(29191),o=a(21773),m=a(87780),x=a(73239),h=a(61594),u=a(93467),g=a(68236),b=a(26062),p=a(81476),y=a(99257),j=a(35288),f=a(54561),N=a(17581),v=a(66889),w=a(66462),_=a(6118);class k{static getInstance(){return k.instance||(k.instance=new k),k.instance}async loadConfig(){try{let e=await fetch("/api/notification-config");if(e.ok)return this.config=await e.json(),this.config;throw Error("設定の読み込みに失敗しました")}catch(e){throw console.error("設定読み込みエラー:",e),e}}async saveConfig(e){try{if(!(await fetch("/api/notification-config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("設定の保存に失敗しました");this.config=e}catch(e){throw console.error("設定保存エラー:",e),e}}async initializePushNotifications(){if(!("serviceWorker"in navigator)||!("PushManager"in window))return console.warn("プッシュ通知がサポートされていません"),!1;try{this.registration=await navigator.serviceWorker.register("/sw.js");let e=await Notification.requestPermission();if("granted"!==e)return console.warn("通知の許可が得られませんでした"),!1;return await this.subscribeToPushNotifications(),!0}catch(e){return console.error("プッシュ通知の初期化エラー:",e),!1}}async subscribeToPushNotifications(){var e;if(this.registration&&(null===(e=this.config)||void 0===e?void 0:e.push.enabled))try{let e=await this.registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.config.push.vapid_public_key});await fetch("/api/push-subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(e){console.error("プッシュ通知の購読エラー:",e)}}async sendLocalNotification(e){if(!this.registration||"granted"!==Notification.permission)return;let s={body:e.message,icon:"/favicon.ico",badge:"/favicon.ico",tag:e.type,data:e.data,requireInteraction:"high"===e.priority};await this.registration.showNotification(e.title,s)}async notifyAnalysisComplete(e){let s={type:"analysis_complete",title:"\uD83D\uDCCA 株価分析完了",message:"分析が完了しました。".concat(e.buy_candidates||0,"件の買い候補、").concat(e.sell_candidates||0,"件の売り候補が見つかりました。"),data:e,timestamp:new Date().toISOString(),priority:"high"};await this.sendLocalNotification(s)}async notifyError(e){let s={type:"error",title:"❌ 分析エラー",message:"分析中にエラーが発生しました: ".concat(e),timestamp:new Date().toISOString(),priority:"high"};await this.sendLocalNotification(s)}async notifyRecommendation(e,s,a){let t={type:"recommendation",title:"\uD83D\uDCA1 ".concat(e," ").concat(s,"推奨"),message:a,data:{symbol:e,action:s,reason:a},timestamp:new Date().toISOString(),priority:"medium"};await this.sendLocalNotification(t)}async notifyRiskAlert(e,s){let a={type:"risk_alert",title:"⚠️ ".concat(e," リスク警告"),message:s,data:{symbol:e,message:s},timestamp:new Date().toISOString(),priority:"high"};await this.sendLocalNotification(a)}async startAutoUpdate(){try{if(!(await fetch("/api/start-auto-update",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw Error("自動更新の開始に失敗しました");console.log("自動更新を開始しました")}catch(e){throw console.error("自動更新開始エラー:",e),e}}async stopAutoUpdate(){try{if(!(await fetch("/api/stop-auto-update",{method:"POST",headers:{"Content-Type":"application/json"}})).ok)throw Error("自動更新の停止に失敗しました");console.log("自動更新を停止しました")}catch(e){throw console.error("自動更新停止エラー:",e),e}}async getNotificationHistory(){try{let e=await fetch("/api/notification-history");if(e.ok)return await e.json();return[]}catch(e){return console.error("通知履歴取得エラー:",e),[]}}constructor(){this.config=null,this.registration=null}}function C(){let[e,s]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[n,c]=(0,i.useState)(!1),[d,o]=(0,i.useState)(null),[u,b]=(0,i.useState)("unknown"),[p,y]=(0,i.useState)(null);(0,i.useEffect)(()=>{y(k.getInstance()),f(),N()},[]);let f=async()=>{if(p)try{let e=await p.loadConfig();s(e)}catch(e){console.error("設定読み込みエラー:",e)}},N=async()=>{try{let e=await fetch("/api/auto-update-status");if(e.ok){let s=await e.json();b(s.status)}}catch(e){console.error("自動更新ステータス確認エラー:",e)}},C=async()=>{if(e&&p){c(!0);try{await p.saveConfig(e),o("設定を保存しました"),setTimeout(()=>o(null),3e3)}catch(e){o("設定の保存に失敗しました")}finally{c(!1)}}},A=async()=>{if(e&&p){l(!0);try{await p.startAutoUpdate(),b("running"),o("自動更新を開始しました"),setTimeout(()=>o(null),3e3)}catch(e){o("自動更新の開始に失敗しました")}finally{l(!1)}}},S=async()=>{if(p){l(!0);try{await p.stopAutoUpdate(),b("stopped"),o("自動更新を停止しました"),setTimeout(()=>o(null),3e3)}catch(e){o("自動更新の停止に失敗しました")}finally{l(!1)}}},T=async()=>{if(p){l(!0);try{await p.initializePushNotifications(),await p.notifyAnalysisComplete({buy_candidates:3,sell_candidates:1,warnings:0}),o("通知テストを送信しました"),setTimeout(()=>o(null),3e3)}catch(e){o("通知テストに失敗しました")}finally{l(!1)}}},I=(a,l)=>{e&&s(e=>{if(!e)return e;let s=(0,t._)({},e),r=a.split("."),i=s;for(let e=0;e<r.length-1;e++)i=i[r[e]];return i[r[r.length-1]]=l,s})};return e?(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)(g.A,{className:"w-6 h-6 text-blue-600"}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"自動更新・通知設定"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(v.A,{className:"w-5 h-5 text-gray-600"}),(0,r.jsx)("span",{className:"font-medium text-gray-900",children:"自動更新ステータス"})]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:"running"===u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.A,{className:"w-5 h-5 text-green-600"}),(0,r.jsx)("span",{className:"text-green-600 font-medium",children:"実行中"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"w-5 h-5 text-red-600"}),(0,r.jsx)("span",{className:"text-red-600 font-medium",children:"停止中"})]})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"自動更新コントロール"}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:A,disabled:a||"running"===u,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"自動更新開始"}),(0,r.jsx)("button",{onClick:S,disabled:a||"stopped"===u,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"自動更新停止"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"スケジュール設定"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"朝の分析時間"}),(0,r.jsx)("input",{type:"time",value:e.schedule.morning_analysis,onChange:e=>I("schedule.morning_analysis",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"夕方の分析時間"}),(0,r.jsx)("input",{type:"time",value:e.schedule.evening_analysis,onChange:e=>I("schedule.evening_analysis",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"通知設定"}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(w.A,{className:"w-5 h-5 text-gray-600"}),(0,r.jsx)("span",{className:"font-medium text-gray-900",children:"メール通知"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.email.enabled,onChange:e=>I("email.enabled",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"メール通知を有効にする"})]}),e.email.enabled&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,r.jsx)("input",{type:"email",placeholder:"送信先メールアドレス",value:e.email.email_to,onChange:e=>I("email.email_to",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,r.jsx)("input",{type:"email",placeholder:"送信者メールアドレス",value:e.email.email_user,onChange:e=>I("email.email_user",e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,r.jsx)(j.A,{className:"w-5 h-5 text-gray-600"}),(0,r.jsx)("span",{className:"font-medium text-gray-900",children:"プッシュ通知"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.push.enabled,onChange:e=>I("push.enabled",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"プッシュ通知を有効にする"})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"通知内容設定"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.content.include_analysis_summary,onChange:e=>I("content.include_analysis_summary",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"分析サマリーを含める"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.content.include_recommendations,onChange:e=>I("content.include_recommendations",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"推奨事項を含める"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.content.include_risk_alerts,onChange:e=>I("content.include_risk_alerts",e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"リスク警告を含める"})]})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{onClick:T,disabled:a,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[(0,r.jsx)(_.A,{className:"w-4 h-4"}),"通知テスト"]}),(0,r.jsxs)("button",{onClick:C,disabled:n,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"w-4 h-4"}),"設定保存"]})]}),d&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-blue-800",children:d})})]}):(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}function A(){let{settings:e,updateSettings:s,saveSettings:a,resetSettings:v,isLoading:w,isSaving:_}=(0,N.t)(),[k,A]=(0,i.useState)(""),[S,T]=(0,i.useState)(""),{runAnalysisWithSettings:I,isAnalyzing:O,analysisProgress:P,analysisStatus:E,getAnalysisDescription:D}=(0,f.P)(),M=(e,s)=>{A(e),T(s),setTimeout(()=>{A(""),T("")},3e3)},U=async()=>{try{await a(),M("設定が正常に保存されました","success")}catch(e){console.error("設定保存エラー:",e),M("設定の保存に失敗しました","error")}},F=async()=>{try{M("設定に基づく分析を実行しています...","success");let e=await I({analysisType:"comprehensive",useSettings:!0});e.success?M("分析が完了しました","success"):M("分析エラー: ".concat(e.error),"error")}catch(e){console.error("分析実行エラー:",e),M("分析の実行に失敗しました","error")}};return w?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"設定を読み込み中..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(c.A,{}),(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"システム設定"}),(0,r.jsx)("p",{className:"text-gray-600",children:"予測システムの動作を設定"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{onClick:F,disabled:O,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"実行中..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"設定で分析実行"]})}),(0,r.jsxs)("button",{onClick:()=>{confirm("設定をリセットしますか？")&&(v(),M("設定がリセットされました","success"))},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,r.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"リセット"]}),(0,r.jsxs)("button",{onClick:U,disabled:_,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[(0,r.jsx)(m.A,{className:"h-4 w-4 mr-2"}),_?"保存中...":"保存"]})]})]})})}),k&&(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ".concat("success"===S?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:(0,r.jsxs)("div",{className:"flex items-center",children:["success"===S?(0,r.jsx)(x.A,{className:"h-5 w-5 mr-2"}):(0,r.jsx)(h.A,{className:"h-5 w-5 mr-2"}),k]})}),(0,r.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,r.jsx)("div",{className:"w-full lg:w-1/4",children:(0,r.jsxs)("nav",{className:"bg-white rounded-lg shadow p-4 sticky top-8",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"設定メニュー"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("a",{href:"#prediction",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"予測設定"}),(0,r.jsx)("a",{href:"#features",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"特徴量設定"}),(0,r.jsx)("a",{href:"#model",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"モデル設定"}),(0,r.jsx)("a",{href:"#data",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"データ設定"}),(0,r.jsx)("a",{href:"#ui",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"UI設定"}),(0,r.jsx)("a",{href:"#system",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"システム情報"}),(0,r.jsx)("a",{href:"#notifications",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"自動更新・通知"}),(0,r.jsx)("div",{className:"border-t pt-4 mt-4",children:(0,r.jsxs)(n.default,{href:"/usage",className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium text-blue-600 hover:bg-blue-50 hover:text-blue-700",children:[(0,r.jsx)(u.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"使い方ガイド"})]})})]})]})}),(0,r.jsx)("div",{className:"w-full lg:w-3/4",children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"bg-blue-50 rounded-lg shadow p-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"現在の設定"})]}),(()=>{let e=D();return(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"予測期間:"}),(0,r.jsx)("span",{className:"font-medium",children:e.prediction})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"モデル設定:"}),(0,r.jsx)("span",{className:"font-medium",children:e.model})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"再訓練:"}),(0,r.jsx)("span",{className:"font-medium",children:e.retrain})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"特徴量:"}),(0,r.jsx)("span",{className:"font-medium",children:e.features})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"データ量:"}),(0,r.jsx)("span",{className:"font-medium",children:e.data})]})]})]})})(),O&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-lg border",children:[(0,r.jsxs)("div",{className:"flex items-center mb-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"分析実行中..."})]}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(P,"%")}})}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:E})]})]}),(0,r.jsxs)("div",{id:"prediction",className:"bg-white rounded-lg shadow p-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(b.A,{className:"h-6 w-6 text-purple-600 mr-3"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"予測設定"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"予測期間（日数）"}),(0,r.jsx)("input",{type:"number",value:e.prediction.days,onChange:a=>s({prediction:(0,l._)((0,t._)({},e.prediction),{days:parseInt(a.target.value)})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"使用するモデル"}),(0,r.jsxs)("select",{value:e.model.type,onChange:a=>s({model:(0,l._)((0,t._)({},e.model),{type:a.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"all",children:"すべてのモデル"}),(0,r.jsx)("option",{value:"linear",children:"線形回帰"}),(0,r.jsx)("option",{value:"random_forest",children:"ランダムフォレスト"}),(0,r.jsx)("option",{value:"xgboost",children:"XGBoost"})]})]})]})]}),(0,r.jsxs)("div",{id:"features",className:"bg-white rounded-lg shadow p-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(p.A,{className:"h-6 w-6 text-green-600 mr-3"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"特徴量設定"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"sma_5",label:"SMA_5"},{key:"sma_10",label:"SMA_10"},{key:"sma_25",label:"SMA_25"},{key:"sma_50",label:"SMA_50"},{key:"rsi",label:"RSI"},{key:"macd",label:"MACD"},{key:"bollinger_upper",label:"ボリンジャー上"},{key:"bollinger_lower",label:"ボリンジャー下"}].map(a=>(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.features.selected.includes(a.key),onChange:r=>{let i=r.target.checked?[...e.features.selected,a.key]:e.features.selected.filter(e=>e!==a.key);s({features:(0,l._)((0,t._)({},e.features),{selected:i})})},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,r.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:a.label})]},a.key))})]}),(0,r.jsxs)("div",{id:"model",className:"bg-white rounded-lg shadow p-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(y.A,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"モデル設定"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"プライマリモデル"}),(0,r.jsxs)("select",{value:e.model.primary_model,onChange:a=>s({model:(0,l._)((0,t._)({},e.model),{primary_model:a.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"xgboost",children:"XGBoost"}),(0,r.jsx)("option",{value:"random_forest",children:"Random Forest"}),(0,r.jsx)("option",{value:"linear_regression",children:"線形回帰"}),(0,r.jsx)("option",{value:"ridge",children:"Ridge回帰"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"再訓練頻度"}),(0,r.jsxs)("select",{value:e.model.retrain_frequency,onChange:a=>s({model:(0,l._)((0,t._)({},e.model),{retrain_frequency:a.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"daily",children:"毎日"}),(0,r.jsx)("option",{value:"weekly",children:"毎週"}),(0,r.jsx)("option",{value:"monthly",children:"毎月"}),(0,r.jsx)("option",{value:"manual",children:"手動"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.model.compare_models,onChange:a=>s({model:(0,l._)((0,t._)({},e.model),{compare_models:a.target.checked})}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,r.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"モデル比較を有効にする"})]}),(0,r.jsxs)("div",{className:"ml-6 text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"• 複数の機械学習モデル（XGBoost、ランダムフォレスト、線形回帰など）を同時に実行し、性能を比較します"}),(0,r.jsx)("p",{children:"• より正確な予測が可能ですが、実行時間が長くなります"}),(0,r.jsx)("p",{children:"• 最適なモデルが自動的に選択され、結果に表示されます"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.model.auto_retrain,onChange:a=>s({model:(0,l._)((0,t._)({},e.model),{auto_retrain:a.target.checked})}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,r.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"自動再訓練を有効にする"})]}),(0,r.jsxs)("div",{className:"ml-6 text-xs text-gray-500",children:[(0,r.jsx)("p",{children:"• 設定した頻度（週次/月次）でモデルを自動的に再訓練します"}),(0,r.jsx)("p",{children:"• 新しいデータに基づいてモデルの精度を向上させます"}),(0,r.jsx)("p",{children:"• 再訓練はバックグラウンドで実行され、完了時に通知されます"}),(0,r.jsx)("p",{children:"• 注意: 再訓練中は一時的に分析機能が制限される場合があります"})]})]})]})]}),(0,r.jsxs)("div",{id:"data",className:"bg-white rounded-lg shadow p-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(p.A,{className:"h-6 w-6 text-green-600 mr-3"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"データ設定"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"データ更新間隔"}),(0,r.jsxs)("select",{value:e.data.refresh_interval,onChange:a=>s({data:(0,l._)((0,t._)({},e.data),{refresh_interval:a.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"realtime",children:"リアルタイム"}),(0,r.jsx)("option",{value:"hourly",children:"1時間ごと"}),(0,r.jsx)("option",{value:"daily",children:"毎日"}),(0,r.jsx)("option",{value:"weekly",children:"毎週"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大データポイント数"}),(0,r.jsx)("input",{type:"number",value:e.data.max_data_points,onChange:a=>s({data:(0,l._)((0,t._)({},e.data),{max_data_points:parseInt(a.target.value)})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.data.include_technical_indicators,onChange:a=>s({data:(0,l._)((0,t._)({},e.data),{include_technical_indicators:a.target.checked})}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,r.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"技術指標を含める"})]})]})]}),(0,r.jsxs)("div",{id:"ui",className:"bg-white rounded-lg shadow p-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(b.A,{className:"h-6 w-6 text-purple-600 mr-3"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"UI設定"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テーマ"}),(0,r.jsxs)("select",{value:e.ui.theme,onChange:a=>s({ui:(0,l._)((0,t._)({},e.ui),{theme:a.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"light",children:"ライト"}),(0,r.jsx)("option",{value:"dark",children:"ダーク"}),(0,r.jsx)("option",{value:"auto",children:"自動"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"更新間隔（秒）"}),(0,r.jsx)("input",{type:"number",value:e.ui.refresh_rate,onChange:a=>s({ui:(0,l._)((0,t._)({},e.ui),{refresh_rate:parseInt(a.target.value)})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:e.ui.show_tooltips,onChange:a=>s({ui:(0,l._)((0,t._)({},e.ui),{show_tooltips:a.target.checked})}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,r.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"ツールチップを表示"})]})]})]}),(0,r.jsxs)("div",{id:"notifications",className:"bg-white rounded-lg shadow p-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(j.A,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"自動更新・通知設定"})]}),(0,r.jsx)(C,{})]}),(0,r.jsxs)("div",{id:"system",className:"bg-white rounded-lg shadow p-8",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 text-gray-600 mr-3"}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"システム情報"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"バージョン"}),(0,r.jsx)("p",{className:"text-lg font-semibold",children:"v1.0.0"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"最終更新"}),(0,r.jsx)("p",{className:"text-lg font-semibold",children:"2024-09-27"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"データソース"}),(0,r.jsx)("p",{className:"text-lg font-semibold",children:"J-Quants API"})]})]})]})]})})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[76,96,358],()=>s(94571)),_N_E=e.O()}]);