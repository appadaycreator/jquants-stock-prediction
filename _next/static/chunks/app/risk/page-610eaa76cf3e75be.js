(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1594,2072],{5088:(e,s,r)=>{Promise.resolve().then(r.bind(r,6993))},1594:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3239:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(7401).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},5340:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});let a=(0,r(7401).A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},6993:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var a=r(5155),t=r(2115),l=r(9749),i=r(5121),c=r(8002),n=r(2884),d=r(3239),x=r(1594),o=r(3950),m=r(5340),u=r(6745),h=r(4807),j=r(2640),f=r(7607),g=r(6878);function p(){let[e,s]=(0,t.useState)(null),[r,p]=(0,t.useState)([]),[N,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[w,_]=(0,t.useState)([]),[k,A]=(0,t.useState)([]),[R,Z]=(0,t.useState)(!0),[C,B]=(0,t.useState)(null);(0,t.useEffect)(()=>{W()},[]);let W=async()=>{try{Z(!0);let[e,r,a,t,l,i]=await Promise.all([fetch("/data/risk_portfolio_overview.json"),fetch("/data/risk_positions.json"),fetch("/data/risk_metrics_chart.json"),fetch("/data/risk_position_performance.json"),fetch("/data/risk_alerts.json"),fetch("/data/risk_recommendations.json")]),c=await e.json(),n=await r.json(),d=await a.json(),x=await t.json(),o=await l.json(),m=await i.json();s(c),p(n),v(d),b(x),_(o),A(m)}catch(e){console.error("リスクデータの読み込みエラー:",e)}finally{Z(!1)}},E=e=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),F=e=>"".concat(e.toFixed(2),"%"),D=e=>{switch(e){case"HIGH":return"bg-red-100 text-red-800 border-red-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"LOW":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return R?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDEE1️ リスク管理ダッシュボード"}),(0,a.jsx)("p",{className:"text-gray-600",children:"現在のポジション状況、損切りライン、リスクレベルを可視化"})]}),e&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"ポートフォリオ価値"}),(0,a.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:E(e.portfolio_value)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["未実現損益: ",E(e.total_unrealized_pnl)]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"リスクレベル"}),(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"LOW":return(0,a.jsx)(d.A,{className:"h-4 w-4 text-green-500"});case"MEDIUM":return(0,a.jsx)(x.A,{className:"h-4 w-4 text-yellow-500"});case"HIGH":return(0,a.jsx)(o.A,{className:"h-4 w-4 text-orange-500"});case"CRITICAL":return(0,a.jsx)(m.A,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(u.A,{className:"h-4 w-4 text-gray-500"})}})(e.risk_level),(0,a.jsx)("span",{className:"text-2xl font-bold",style:{color:e.risk_color},children:e.risk_level})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["リスクスコア: ",e.risk_score.toFixed(2)]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"最大ドローダウン"}),(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:F(100*e.max_drawdown)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["VaR (95%): ",E(e.var_95)]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"シャープレシオ"}),(0,a.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.sharpe_ratio.toFixed(2)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"リスク調整後リターン"})]})]})]}),w.length>0&&(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"⚠️ リスクアラート"}),(0,a.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,a.jsxs)(c.Fc,{style:{borderColor:e.color},children:[(0,a.jsx)(o.A,{className:"h-4 w-4",style:{color:e.color}}),(0,a.jsx)(c.XL,{children:e.title}),(0,a.jsx)(c.TN,{children:e.message})]},e.id))})]}),(0,a.jsxs)(n.tU,{defaultValue:"overview",className:"space-y-6",children:[(0,a.jsxs)(n.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(n.Xi,{value:"overview",children:"概要"}),(0,a.jsx)(n.Xi,{value:"positions",children:"ポジション"}),(0,a.jsx)(n.Xi,{value:"risk-metrics",children:"リスク指標"}),(0,a.jsx)(n.Xi,{value:"recommendations",children:"推奨事項"})]}),(0,a.jsx)(n.av,{value:"overview",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[N&&(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"リスク指標推移"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(j.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"リスクメトリクスチャート"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"ポジション分布"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(j.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"ポジション分布チャート"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})})})]})]})}),(0,a.jsx)(n.av,{value:"positions",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"現在のポジション"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>B(C===e.symbol?null:e.symbol),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:e.symbol}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.company_name})]}),(0,a.jsx)(i.E,{variant:"outline",style:{borderColor:e.risk_color,color:e.risk_color},children:e.risk_level})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-semibold",style:{color:e.pnl_color},children:E(e.unrealized_pnl)}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:F(e.unrealized_pnl_percent)})]})]}),C===e.symbol&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"エントリー価格"}),(0,a.jsx)("p",{className:"font-semibold",children:E(e.entry_price)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"現在価格"}),(0,a.jsx)("p",{className:"font-semibold",children:E(e.current_price)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"損切り価格"}),(0,a.jsx)("p",{className:"font-semibold text-red-600",children:E(e.stop_loss_price)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"利確価格"}),(0,a.jsx)("p",{className:"font-semibold text-green-600",children:E(e.take_profit_price)})]})]})]},e.symbol))})})]}),y&&C&&(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsxs)(l.ZB,{children:[C," パフォーマンス"]})}),(0,a.jsx)(l.Wu,{children:y.positions.find(e=>e.symbol===C)?(0,a.jsx)("div",{className:"flex items-center justify-center h-[400px] bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(j.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"価格チャート"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})}):null})]})]})}),(0,a.jsx)(n.av,{value:"risk-metrics",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[N&&(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"ドローダウン分析"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(j.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"ドローダウンチャート"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"ポジション別リスクスコア"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(j.A,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"リスクスコア分布チャート"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})})})]})]})}),(0,a.jsx)(n.av,{value:"recommendations",className:"space-y-6",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"リスク管理推奨事項"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,a.jsx)("div",{className:"border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:e.description}),(0,a.jsx)("p",{className:"text-sm text-blue-600 mt-2 font-medium",children:e.action})]}),(0,a.jsx)(i.E,{className:D(e.priority),children:e.priority})]})},e.id))})})]})})]})]})})}},8002:(e,s,r)=>{"use strict";r.d(s,{Fc:()=>x,TN:()=>m,XL:()=>o});var a=r(9233),t=r(2175),l=r(5155),i=r(2115),c=r(1027),n=r(9623);let d=(0,c.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),x=i.forwardRef((e,s)=>{var{className:r,variant:i}=e,c=(0,t._)(e,["className","variant"]);return(0,l.jsx)("div",(0,a._)({ref:s,role:"alert",className:(0,n.cn)(d({variant:i}),r)},c))});x.displayName="Alert";let o=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)("h5",(0,a._)({ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",r)},i))});o.displayName="AlertTitle";let m=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)("div",(0,a._)({ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",r)},i))});m.displayName="AlertDescription"},5121:(e,s,r)=>{"use strict";r.d(s,{E:()=>d});var a=r(9233),t=r(2175),l=r(5155);r(2115);var i=r(1027),c=r(9623);let n=(0,i.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){var{className:s,variant:r}=e,i=(0,t._)(e,["className","variant"]);return(0,l.jsx)("div",(0,a._)({className:(0,c.cn)(n({variant:r}),s)},i))}},9749:(e,s,r)=>{"use strict";r.d(s,{Wu:()=>o,ZB:()=>x,Zp:()=>n,aR:()=>d});var a=r(9233),t=r(2175),l=r(5155),i=r(2115),c=r(9623);let n=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)("div",(0,a._)({ref:s,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r)},i))});n.displayName="Card";let d=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)("div",(0,a._)({ref:s,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",r)},i))});d.displayName="CardHeader";let x=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)("h3",(0,a._)({ref:s,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",r)},i))});x.displayName="CardTitle",i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)("p",(0,a._)({ref:s,className:(0,c.cn)("text-sm text-muted-foreground",r)},i))}).displayName="CardDescription";let o=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)("div",(0,a._)({ref:s,className:(0,c.cn)("p-6 pt-0",r)},i))});o.displayName="CardContent",i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)("div",(0,a._)({ref:s,className:(0,c.cn)("flex items-center p-6 pt-0",r)},i))}).displayName="CardFooter"},2884:(e,s,r)=>{"use strict";r.d(s,{Xi:()=>o,av:()=>m,j7:()=>x,tU:()=>d});var a=r(9233),t=r(2175),l=r(5155),i=r(2115),c=r(4611),n=r(9623);let d=c.bL,x=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)(c.B8,(0,a._)({ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r)},i))});x.displayName=c.B8.displayName;let o=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)(c.l9,(0,a._)({ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r)},i))});o.displayName=c.l9.displayName;let m=i.forwardRef((e,s)=>{var{className:r}=e,i=(0,t._)(e,["className"]);return(0,l.jsx)(c.UC,(0,a._)({ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r)},i))});m.displayName=c.UC.displayName},9623:(e,s,r)=>{"use strict";r.d(s,{cn:()=>l});var a=r(3463),t=r(9795);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.QP)((0,a.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[252,1316,8441,1517,7358],()=>s(5088)),_N_E=e.O()}]);