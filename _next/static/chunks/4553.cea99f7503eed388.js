"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1594,4553],{5288:(e,s,l)=>{l.d(s,{A:()=>a});let a=(0,l(7401).A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},1594:(e,s,l)=>{l.d(s,{A:()=>a});let a=(0,l(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6462:(e,s,l)=>{l.d(s,{A:()=>a});let a=(0,l(7401).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},3348:(e,s,l)=>{l.d(s,{A:()=>a});let a=(0,l(7401).A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]])},7780:(e,s,l)=>{l.d(s,{A:()=>a});let a=(0,l(7401).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},8236:(e,s,l)=>{l.d(s,{A:()=>a});let a=(0,l(7401).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6118:(e,s,l)=>{l.d(s,{A:()=>a});let a=(0,l(7401).A)("test-tube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]])},4553:(e,s,l)=>{l.r(s),l.d(s,{default:()=>h});var a=l(9233),t=l(5155),c=l(2115),r=l(5288),n=l(7780),i=l(6462),d=l(3348),o=l(6889),m=l(8236),u=l(6118),x=l(1594);function h(){let[e,s]=(0,c.useState)({email:{enabled:!1,smtp_server:"smtp.gmail.com",smtp_port:587,email_user:"",email_password:"",email_to:""},slack:{enabled:!1,webhook_url:"",channel:"#stock-analysis",username:"株価分析Bot",icon_emoji:":chart_with_upwards_trend:"},schedule:{morning_analysis:"09:00",evening_analysis:"15:00",timezone:"Asia/Tokyo"},content:{include_analysis_summary:!0,include_performance_metrics:!0,include_recommendations:!0,include_risk_alerts:!0},filters:{min_confidence_threshold:.7,include_errors:!0,include_success:!0},rate_limiting:{max_notifications_per_hour:5,cooldown_minutes:30}}),[l,h]=(0,c.useState)(!1),[b,g]=(0,c.useState)(!1),[p,y]=(0,c.useState)(null),[f,j]=(0,c.useState)("email");(0,c.useEffect)(()=>{k()},[]);let k=async()=>{try{let e=localStorage.getItem("notification-config");if(e){let l=JSON.parse(e);s(l)}}catch(e){console.error("設定読み込みエラー:",e)}},N=async()=>{g(!0);try{localStorage.setItem("notification-config",JSON.stringify(e)),y("設定を保存しました"),setTimeout(()=>y(null),3e3)}catch(e){y("設定の保存に失敗しました")}finally{g(!1)}},v=async e=>{h(!0);try{y("".concat("email"===e?"メール":"Slack","通知の設定が保存されました（テスト機能は静的サイトでは利用できません）"))}catch(s){y("".concat("email"===e?"メール":"Slack","通知のテストに失敗しました"))}finally{h(!1)}},_=(e,l)=>{s(s=>{let t=(0,a._)({},s),c=e.split("."),r=t;for(let e=0;e<c.length-1;e++)r=r[c[e]];return r[c[c.length-1]]=l,t})};return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[(0,t.jsx)(r.A,{className:"w-6 h-6 text-blue-600"}),"通知設定"]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)("button",{onClick:N,disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 flex items-center gap-2",children:[(0,t.jsx)(n.A,{className:"w-4 h-4"}),b?"保存中...":"保存"]})})]}),(0,t.jsx)("div",{className:"flex border-b border-gray-200 mb-6",children:[{id:"email",label:"メール通知",icon:i.A},{id:"slack",label:"Slack通知",icon:d.A},{id:"schedule",label:"スケジュール",icon:o.A},{id:"content",label:"通知内容",icon:m.A}].map(e=>{let{id:s,label:l,icon:a}=e;return(0,t.jsxs)("button",{onClick:()=>j(s),className:"flex items-center gap-2 px-4 py-2 border-b-2 transition-colors ".concat(f===s?"border-blue-500 text-blue-600":"border-transparent text-gray-600 hover:text-gray-800"),children:[(0,t.jsx)(a,{className:"w-4 h-4"}),l]},s)})}),"email"===f&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"メール通知設定"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.email.enabled,onChange:e=>_("email.enabled",e.target.checked),className:"rounded"}),"メール通知を有効にする"]}),(0,t.jsxs)("button",{onClick:()=>v("email"),disabled:!e.email.enabled||l,className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"w-3 h-3"}),"テスト"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTPサーバー"}),(0,t.jsx)("input",{type:"text",value:e.email.smtp_server,onChange:e=>_("email.smtp_server",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"smtp.gmail.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTPポート"}),(0,t.jsx)("input",{type:"number",value:e.email.smtp_port,onChange:e=>_("email.smtp_port",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"587"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"送信者メールアドレス"}),(0,t.jsx)("input",{type:"email",value:e.email.email_user,onChange:e=>_("email.email_user",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"your-email@gmail.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"アプリパスワード"}),(0,t.jsx)("input",{type:"password",value:e.email.email_password,onChange:e=>_("email.email_password",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Gmailアプリパスワード"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"受信者メールアドレス"}),(0,t.jsx)("input",{type:"email",value:e.email.email_to,onChange:e=>_("email.email_to",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"recipient@example.com"})]})]})]}),"slack"===f&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Slack通知設定"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.slack.enabled,onChange:e=>_("slack.enabled",e.target.checked),className:"rounded"}),"Slack通知を有効にする"]}),(0,t.jsxs)("button",{onClick:()=>v("slack"),disabled:!e.slack.enabled||l,className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 disabled:bg-gray-400 flex items-center gap-1",children:[(0,t.jsx)(u.A,{className:"w-3 h-3"}),"テスト"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook URL"}),(0,t.jsx)("input",{type:"url",value:e.slack.webhook_url,onChange:e=>_("slack.webhook_url",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://hooks.slack.com/services/..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"チャンネル"}),(0,t.jsx)("input",{type:"text",value:e.slack.channel,onChange:e=>_("slack.channel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"#stock-analysis"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ユーザー名"}),(0,t.jsx)("input",{type:"text",value:e.slack.username,onChange:e=>_("slack.username",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"株価分析Bot"})]})]})]})]}),"schedule"===f&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"スケジュール設定"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"朝の分析実行時間"}),(0,t.jsx)("input",{type:"time",value:e.schedule.morning_analysis,onChange:e=>_("schedule.morning_analysis",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"夕方の分析実行時間"}),(0,t.jsx)("input",{type:"time",value:e.schedule.evening_analysis,onChange:e=>_("schedule.evening_analysis",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"タイムゾーン"}),(0,t.jsxs)("select",{value:e.schedule.timezone,onChange:e=>_("schedule.timezone",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,t.jsx)("option",{value:"Asia/Tokyo",children:"Asia/Tokyo (JST)"}),(0,t.jsx)("option",{value:"UTC",children:"UTC"}),(0,t.jsx)("option",{value:"America/New_York",children:"America/New_York (EST)"})]})]})]})]}),"content"===f&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"通知内容設定"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"分析サマリーを含める"}),(0,t.jsx)("input",{type:"checkbox",checked:e.content.include_analysis_summary,onChange:e=>_("content.include_analysis_summary",e.target.checked),className:"rounded"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"パフォーマンス指標を含める"}),(0,t.jsx)("input",{type:"checkbox",checked:e.content.include_performance_metrics,onChange:e=>_("content.include_performance_metrics",e.target.checked),className:"rounded"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"推奨事項を含める"}),(0,t.jsx)("input",{type:"checkbox",checked:e.content.include_recommendations,onChange:e=>_("content.include_recommendations",e.target.checked),className:"rounded"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"リスクアラートを含める"}),(0,t.jsx)("input",{type:"checkbox",checked:e.content.include_risk_alerts,onChange:e=>_("content.include_risk_alerts",e.target.checked),className:"rounded"})]})]}),(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsx)("h4",{className:"text-md font-semibold text-gray-800 mb-3",children:"フィルタリング設定"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["最小信頼度閾値: ",e.filters.min_confidence_threshold]}),(0,t.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:e.filters.min_confidence_threshold,onChange:e=>_("filters.min_confidence_threshold",parseFloat(e.target.value)),className:"w-full"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"エラー通知を含める"}),(0,t.jsx)("input",{type:"checkbox",checked:e.filters.include_errors,onChange:e=>_("filters.include_errors",e.target.checked),className:"rounded"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"成功通知を含める"}),(0,t.jsx)("input",{type:"checkbox",checked:e.filters.include_success,onChange:e=>_("filters.include_success",e.target.checked),className:"rounded"})]})]})]})]}),p&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-blue-800",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:p})]})})]})}}}]);