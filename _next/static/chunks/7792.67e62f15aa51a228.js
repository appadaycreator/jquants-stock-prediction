"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7792],{8867:(e,s,t)=>{t.d(s,{A:()=>a});let a=(0,t(7401).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},853:(e,s,t)=>{t.d(s,{A:()=>a});let a=(0,t(7401).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},7792:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var a=t(5155),c=t(2115),l=t(853),r=t(6878),d=t(8867),o=t(767);let n=[{code:"7203.T",name:"トヨタ自動車",sector:"自動車"},{code:"6758.T",name:"ソニーグループ",sector:"エンターテインメント"},{code:"9984.T",name:"ソフトバンクグループ",sector:"通信"},{code:"9432.T",name:"日本電信電話",sector:"通信"},{code:"6861.T",name:"キーエンス",sector:"電子部品"},{code:"4063.T",name:"信越化学工業",sector:"化学"},{code:"8035.T",name:"東京エレクトロン",sector:"半導体"},{code:"8306.T",name:"三菱UFJフィナンシャル・グループ",sector:"金融"},{code:"4503.T",name:"アステラス製薬",sector:"製薬"},{code:"4519.T",name:"中外製薬",sector:"製薬"},{code:"4061.T",name:"デンカ",sector:"化学"},{code:"4568.T",name:"第一三共",sector:"製薬"},{code:"6501.T",name:"日立製作所",sector:"電機"},{code:"6752.T",name:"パナソニック",sector:"電機"},{code:"6981.T",name:"村田製作所",sector:"電子部品"},{code:"7741.T",name:"HOYA",sector:"光学機器"},{code:"7974.T",name:"任天堂",sector:"エンターテインメント"},{code:"8001.T",name:"伊藤忠商事",sector:"商社"},{code:"8002.T",name:"丸紅",sector:"商社"},{code:"8031.T",name:"三井物産",sector:"商社"}];function i(e){let{selectedSymbols:s,onSymbolsChange:t,onAnalysis:i,isAnalyzing:m=!1,adapter:x=null}=e,[u,h]=(0,c.useState)(""),[g,f]=(0,c.useState)(!1),[p,b]=(0,c.useState)(n),[y,j]=(0,c.useState)(n),[N,v]=(0,c.useState)(!1),[T,w]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{if(x){v(!0),w(null);try{let e=(await x.getAllSymbols()).map(e=>({code:e.code,name:e.name||e.code,sector:e.sector||"-"})).filter(e=>e.code&&e.name);e.length>0&&(b(e),j(e))}catch(e){w("銘柄一覧の取得に失敗しました")}finally{v(!1)}}})()},[x]),(0,c.useEffect)(()=>{if(u){let e=u.toLowerCase();j(p.filter(s=>s.name.toLowerCase().includes(e)||s.code.toLowerCase().includes(e)||s.sector.toLowerCase().includes(e)))}else j(p)},[u,p]);let k=e=>{s.includes(e)?t(s.filter(s=>s!==e)):t([...s,e])},C=e=>{t(s.filter(s=>s!==e))},A=e=>p.find(s=>s.code===e);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"銘柄名、コード、セクターで検索...",value:u,onChange:e=>h(e.target.value),onFocus:()=>f(!0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("button",{onClick:()=>i(s),disabled:0===s.length||m,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(r.A,{className:"h-4 w-4 mr-2"}),m?"分析中...":"分析実行"]})]}),g&&(0,a.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[N&&(0,a.jsx)("div",{className:"p-3 text-sm text-gray-500",children:"読み込み中..."}),T&&(0,a.jsx)("div",{className:"p-3 text-sm text-red-600",children:T}),!N&&!T&&y.map(e=>(0,a.jsxs)("div",{onClick:()=>{k(e.code),h(""),f(!1)},className:"flex items-center justify-between p-3 hover:bg-gray-50 cursor-pointer",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.code," • ",e.sector]})]}),s.includes(e.code)&&(0,a.jsx)(d.A,{className:"h-4 w-4 text-blue-600"})]},e.code))]})]}),s.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-700",children:["選択された銘柄 (",s.length,"件)"]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(e=>{let s=A(e);return(0,a.jsxs)("div",{className:"flex items-center space-x-2 bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:(null==s?void 0:s.name)||e}),(0,a.jsxs)("span",{className:"text-blue-500",children:["(",e,")"]}),(0,a.jsx)("button",{onClick:()=>C(e),className:"text-blue-500 hover:text-blue-700",children:(0,a.jsx)(o.A,{className:"h-3 w-3"})})]},e)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"クイック選択"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("button",{onClick:()=>t(["7203.T","6758.T","9984.T"]),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200",children:"主要3銘柄"}),(0,a.jsx)("button",{onClick:()=>t(["7203.T","6758.T","9984.T","9432.T","6861.T"]),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200",children:"主要5銘柄"}),(0,a.jsx)("button",{onClick:()=>t(p.slice(0,10).map(e=>e.code)),className:"px-3 py-1 text-xs bg-gray-100 text-gray-700 rounded-full hover:bg-gray-200",children:"主要10銘柄"}),(0,a.jsx)("button",{onClick:()=>t([]),className:"px-3 py-1 text-xs bg-red-100 text-red-700 rounded-full hover:bg-red-200",children:"全クリア"})]})]})]})}}}]);