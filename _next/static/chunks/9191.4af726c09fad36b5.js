"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9191],{6261:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(7401).A)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},1864:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(7401).A)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},4807:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(7401).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},738:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(7401).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},2598:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(7401).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6527:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(7401).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},7607:(e,t,s)=>{s.d(t,{A:()=>a});let a=(0,s(7401).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},1572:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(5155),r=s(2115),l=s(1864),c=s(6261),i=s(6527),n=s(2598),d=s(1773),o=s(738),m=s(6889),x=s(6878),h=s(7607),g=s(9136),u=s(9676),y=s(865),p=s(4807),b=s(3950);function j(e){let{className:t="",onStockSelect:s,onActionClick:j}=e,[v,N]=(0,r.useState)([]),[f,w]=(0,r.useState)(!0),[_,A]=(0,r.useState)(null),[k,S]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>[{id:"1",type:"prediction_deviation",title:"予測乖離Top",description:"AI予測と実際の価格に大きな乖離が発生",priority:"critical",action:"buy",confidence:85,value:12.5,change:3.2,symbol:"7203.T",name:"トヨタ自動車",timestamp:new Date().toISOString(),evidence:{historical_accuracy_30d:.82,short_model_note:"XGBoost v2（非線形）"}},{id:"2",type:"decline_alert",title:"下落注意",description:"技術指標で下落シグナルが複数検出",priority:"high",action:"sell",confidence:78,value:-5.8,change:-2.1,symbol:"6758.T",name:"ソニーグループ",timestamp:new Date(Date.now()-3e5).toISOString(),evidence:{historical_accuracy_30d:.73,short_model_note:"RF v1（安定）"}},{id:"3",type:"volume_surge",title:"出来高急増",description:"通常の3倍以上の出来高を記録",priority:"medium",action:"watch",confidence:92,value:350,change:15.2,symbol:"6861.T",name:"キーエンス",timestamp:new Date(Date.now()-6e5).toISOString(),evidence:{historical_accuracy_30d:.69,short_model_note:"Linear v3（解釈性）"}},{id:"4",type:"recommendation",title:"推奨アクション",description:"ポートフォリオバランスの調整を推奨",priority:"high",action:"buy",confidence:88,value:0,change:0,symbol:"9984.T",name:"ソフトバンクグループ",timestamp:new Date(Date.now()-9e5).toISOString(),evidence:{historical_accuracy_30d:.77,short_model_note:"LightGBM v1（高速）"}},{id:"5",type:"prediction_deviation",title:"予測乖離",description:"予測精度が高く、信頼できるシグナル",priority:"medium",action:"hold",confidence:75,value:8.3,change:1.8,symbol:"4063.T",name:"信越化学工業",timestamp:new Date(Date.now()-12e5).toISOString(),evidence:{historical_accuracy_30d:.71,short_model_note:"RF v1（安定）"}}];setTimeout(()=>{N(e()),w(!1),A(new Date)},1e3)},[]);let M=e=>{switch(e){case"critical":return"bg-red-50 border-red-200 text-red-800";case"high":return"bg-orange-50 border-orange-200 text-orange-800";case"medium":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"low":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},D=e=>{switch(e){case"buy":return"bg-green-100 text-green-800 border-green-200";case"sell":return"bg-red-100 text-red-800 border-red-200";case"hold":default:return"bg-gray-100 text-gray-800 border-gray-200";case"watch":return"bg-blue-100 text-blue-800 border-blue-200"}},T=e=>{switch(e){case"buy":return(0,a.jsx)(l.A,{className:"h-4 w-4"});case"sell":return(0,a.jsx)(c.A,{className:"h-4 w-4"});case"hold":default:return(0,a.jsx)(i.A,{className:"h-4 w-4"});case"watch":return(0,a.jsx)(n.A,{className:"h-4 w-4"})}},C=e=>{switch(e){case"buy":return"買い";case"sell":return"売り";case"hold":return"様子見";case"watch":return"監視";default:return"不明"}},I=k?v:v.slice(0,3),O=e=>{e.symbol&&(null==s||s(e.symbol))},q=e=>{e.symbol&&(null==j||j(e.action,e.symbol))},L=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/6e4);if(s<1)return"たった今";if(s<60)return"".concat(s,"分前");let a=Math.floor(s/60);if(a<24)return"".concat(a,"時間前");let r=Math.floor(a/24);return"".concat(r,"日前")};return f?(0,a.jsx)("div",{className:"bg-white rounded-lg shadow border ".concat(t),children:(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(d.A,{className:"h-6 w-6 animate-spin text-blue-600 mr-3"}),(0,a.jsx)("span",{className:"text-gray-600",children:"判断パネルを読み込み中..."})]})})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border ".concat(t),children:[(0,a.jsxs)("div",{className:"p-4 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"判断パネル"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"今日の投資判断に必要な情報を集約"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("button",{onClick:()=>{w(!0),setTimeout(()=>{A(new Date),w(!1)},1e3)},className:"flex items-center px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"更新"]}),v.length>3&&(0,a.jsxs)("button",{onClick:()=>S(!k),className:"flex items-center px-3 py-2 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors",children:[k?(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}):(0,a.jsx)(n.A,{className:"h-4 w-4 mr-2"}),k?"折りたたむ":"全て表示 (".concat(v.length,")")]})]})]}),_&&(0,a.jsxs)("div",{className:"flex items-center mt-2 text-sm text-gray-500",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-1"}),"最終更新: ",_.toLocaleString("ja-JP")]})]}),(0,a.jsx)("div",{className:"p-4",children:I.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>(0,a.jsxs)("div",{className:"p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 hover:shadow-md ".concat(M(e.priority)),onClick:()=>O(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:["prediction_deviation"===e.type&&(0,a.jsx)(x.A,{className:"h-5 w-5"}),"decline_alert"===e.type&&(0,a.jsx)(h.A,{className:"h-5 w-5"}),"volume_surge"===e.type&&(0,a.jsx)(g.A,{className:"h-5 w-5"}),"recommendation"===e.type&&(0,a.jsx)(u.A,{className:"h-5 w-5"})]}),(0,a.jsx)("h3",{className:"font-semibold",children:e.title})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsxs)("span",{className:"text-sm font-medium",children:[e.confidence,"%"]})]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-700 mb-3",children:e.description}),e.symbol&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.symbol}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:e.name})]}),void 0!==e.value&&(0,a.jsx)("div",{className:"mb-3",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 text-gray-500"}),(0,a.jsxs)("span",{className:"text-lg font-bold",children:[e.value>0?"+":"",e.value,"%"]}),void 0!==e.change&&(0,a.jsxs)("span",{className:"text-sm ".concat(e.change>=0?"text-green-600":"text-red-600"),children:["(",e.change>=0?"+":"",e.change,"%)"]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),q(e)},className:"flex items-center space-x-2 px-3 py-2 rounded-lg border text-sm font-medium transition-colors ".concat(D(e.action)),children:[T(e.action),(0,a.jsx)("span",{children:C(e.action)})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:L(e.timestamp)})]}),e.evidence&&(0,a.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-600",children:[(0,a.jsxs)("div",{children:["的中率(30日): ",Math.round(100*(e.evidence.historical_accuracy_30d||0)),"%"]}),(0,a.jsxs)("div",{children:["モデル: ",e.evidence.short_model_note]})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(b.A,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),(0,a.jsx)("p",{className:"text-lg font-medium text-gray-500",children:"判断情報がありません"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"データの更新を待っています"})]})}),v.length>0&&(0,a.jsx)("div",{className:"p-4 border-t bg-gray-50",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:v.filter(e=>"critical"===e.priority).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"緊急"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:v.filter(e=>"high"===e.priority).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"重要"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:v.filter(e=>"buy"===e.action).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"買い推奨"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:v.filter(e=>"sell"===e.action).length}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"売り推奨"})]})]})})]})}}}]);