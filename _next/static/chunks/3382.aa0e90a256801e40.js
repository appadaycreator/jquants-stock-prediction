"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1594,3382],{1594:(e,s,t)=>{t.d(s,{A:()=>a});let a=(0,t(7401).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6527:(e,s,t)=>{t.d(s,{A:()=>a});let a=(0,t(7401).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},2640:(e,s,t)=>{t.d(s,{A:()=>a});let a=(0,t(7401).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7607:(e,s,t)=>{t.d(s,{A:()=>a});let a=(0,t(7401).A)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},1001:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var a=t(5155),r=t(2115),l=t(6878),n=t(7607),i=t(6527),c=t(1594),d=t(7072),x=t(1773),m=t(2640),h=t(9676);function o(e){let{symbols:s=[],autoRefresh:t=!0,refreshInterval:o=3e4}=e,[g,p]=(0,r.useState)([]),[j,u]=(0,r.useState)(null),[N,y]=(0,r.useState)(!1),[b,v]=(0,r.useState)(null),[f,w]=(0,r.useState)(null),[_,A]=(0,r.useState)({buy:0,sell:0,hold:0,strong_buy:0,strong_sell:0});(0,r.useEffect)(()=>{if(t){let e=setInterval(S,o);return()=>clearInterval(e)}},[t,o]),(0,r.useEffect)(()=>{S()},[]);let S=async()=>{try{y(!0),v(null);let e=[{symbol:"7203.T",signal_type:"BUY",strength:"STRONG",confidence:.85,price:2500,timestamp:new Date().toISOString(),reason:"テクニカル分析とファンダメンタル分析の両方で買いシグナル",risk_level:"MEDIUM",position_size:1e3,evidence:{historical_accuracy_30d:.78,model:{name:"統合予測モデル",description:"テクニカル分析とファンダメンタル分析を統合したAIモデル"},top_features:[{name:"RSI",importance:.85},{name:"MACD",importance:.72},{name:"業績成長率",importance:.68}],news_headlines:[{title:"株式市場全体が上昇",url:"https://example.com/news1",published_at:"2023-10-27T10:00:00Z"},{title:"7203.Tのテクニカル指標が改善",url:"https://example.com/news2",published_at:"2023-10-27T11:00:00Z"}],technical_top3:[{name:"RSI",value:70,signal:"買い"},{name:"MACD",value:1.2,signal:"買い"},{name:"移動平均線",value:2480,signal:"買い"}]}},{symbol:"6758.T",signal_type:"SELL",strength:"WEAK",confidence:.72,price:12e3,timestamp:new Date().toISOString(),reason:"テクニカル分析で売りシグナル、利益確定のタイミング",risk_level:"LOW",position_size:500,evidence:{historical_accuracy_30d:.65,model:{name:"リスク評価モデル",description:"リスク要因を重点的に分析するAIモデル"},top_features:[{name:"RSI",importance:.72},{name:"MACD",importance:.68},{name:"PER",importance:.55}],news_headlines:[{title:"6758.Tの業績が悪化",url:"https://example.com/news3",published_at:"2023-10-27T12:00:00Z"}],technical_top3:[{name:"RSI",value:65,signal:"売り"},{name:"MACD",value:-.5,signal:"売り"},{name:"移動平均線",value:11800,signal:"売り"}]}}],s={buy:e.filter(e=>"BUY"===e.signal_type&&"WEAK"===e.strength).length,sell:e.filter(e=>"SELL"===e.signal_type&&"WEAK"===e.strength).length,hold:0,strong_buy:e.filter(e=>"BUY"===e.signal_type&&"STRONG"===e.strength).length,strong_sell:e.filter(e=>"SELL"===e.signal_type&&"STRONG"===e.strength).length};p(e),A(s),w(new Date)}catch(e){console.error("シグナル取得エラー:",e),v("シグナルデータの取得に失敗しました")}finally{y(!1)}},L=e=>{switch(e){case"STRONG_BUY":return(0,a.jsx)(l.A,{className:"h-5 w-5 text-green-600"});case"BUY":return(0,a.jsx)(l.A,{className:"h-4 w-4 text-green-500"});case"STRONG_SELL":return(0,a.jsx)(n.A,{className:"h-5 w-5 text-red-600"});case"SELL":return(0,a.jsx)(n.A,{className:"h-4 w-4 text-red-500"});default:return(0,a.jsx)(i.A,{className:"h-4 w-4 text-gray-500"})}},E=e=>{switch(e){case"STRONG_BUY":return"text-green-700 bg-green-100 border-green-200";case"BUY":return"text-green-600 bg-green-50 border-green-100";case"STRONG_SELL":return"text-red-700 bg-red-100 border-red-200";case"SELL":return"text-red-600 bg-red-50 border-red-100";default:return"text-gray-600 bg-gray-50 border-gray-100"}},k=e=>{switch(e){case"VERY_STRONG":return"text-green-600";case"STRONG":return"text-blue-600";case"MEDIUM":return"text-yellow-600";case"WEAK":return"text-gray-600";default:return"text-gray-500"}},T=e=>{switch(e){case"LOW":return"text-green-600 bg-green-50";case"MEDIUM":return"text-yellow-600 bg-yellow-50";case"HIGH":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},M=e=>e>=.8?"text-green-600":e>=.6?"text-yellow-600":"text-red-600",D=e=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);return b?(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-red-600 mr-2"}),(0,a.jsx)("span",{className:"text-red-600",children:b})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.A,{className:"h-6 w-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"リアルタイム売買シグナル"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[f&&(0,a.jsxs)("span",{className:"text-sm text-gray-500",children:["最終更新: ",f.toLocaleTimeString()]}),(0,a.jsxs)("button",{onClick:S,disabled:N,className:"flex items-center space-x-1 px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:[(0,a.jsx)(x.A,{className:"h-4 w-4 ".concat(N?"animate-spin":"")}),(0,a.jsx)("span",{children:"更新"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:"強気買い"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-700",children:_.strong_buy})]}),(0,a.jsx)(l.A,{className:"h-6 w-6 text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:"買い"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-700",children:_.buy})]}),(0,a.jsx)(l.A,{className:"h-5 w-5 text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"ホールド"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-700",children:_.hold})]}),(0,a.jsx)(i.A,{className:"h-5 w-5 text-gray-600"})]})}),(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-600",children:"売り"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-700",children:_.sell})]}),(0,a.jsx)(n.A,{className:"h-5 w-5 text-red-600"})]})}),(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-600",children:"強気売り"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-700",children:_.strong_sell})]}),(0,a.jsx)(n.A,{className:"h-6 w-6 text-red-600"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"上位シグナル"})}),N?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(x.A,{className:"h-6 w-6 animate-spin text-blue-600 mr-2"}),(0,a.jsx)("span",{className:"text-gray-600",children:"シグナルを取得中..."})]}):0===g.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"シグナルがありません"}):(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:g.map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[L(e.signal_type),(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:e.symbol})]}),(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(E(e.signal_type)),children:e.signal_type}),(0,a.jsx)("div",{className:"px-2 py-1 rounded text-xs ".concat(k(e.strength)),children:e.strength})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"現在価格"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:D(e.price)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"信頼度"}),(0,a.jsxs)("p",{className:"text-lg font-semibold ".concat(M(e.confidence)),children:[(100*e.confidence).toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"推奨ポジション"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:D(e.position_size)})]}),(0,a.jsxs)("div",{className:"px-2 py-1 rounded text-xs ".concat(T(e.risk_level)),children:[(0,a.jsx)(m.A,{className:"h-3 w-3 inline mr-1"}),e.risk_level]}),(0,a.jsx)("button",{onClick:()=>u(j===s?null:s),className:"ml-2 text-sm text-blue-600 hover:underline",children:j===s?"根拠を閉じる":"根拠を表示"})]})]}),(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 inline mr-1"}),e.reason]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["更新時刻: ",new Date(e.timestamp).toLocaleString()]}),(null===(t=e.reason)||void 0===t?void 0:t.includes("推薦抑制"))&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-red-600",children:[(0,a.jsx)(c.A,{className:"h-3 w-3 inline mr-1"}),"安全スイッチ作動: 根拠不足または信頼度不足でHOLDに抑制"]})]}),j===s&&e.evidence&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded border border-gray-200",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"過去30日的中率"}),(0,a.jsxs)("p",{className:"text-xl font-semibold text-gray-900",children:[(100*e.evidence.historical_accuracy_30d).toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"モデル"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.evidence.model.name}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:e.evidence.model.description})]})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"主要特徴量（重要度上位）"}),(0,a.jsx)("div",{className:"space-y-1",children:e.evidence.top_features.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-700",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsxs)("div",{className:"flex items-center w-40",children:[(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded h-1 mr-2",children:(0,a.jsx)("div",{className:"bg-blue-500 h-1 rounded",style:{width:"".concat(Math.min(100,Math.round(100*e.importance)),"%")}})}),(0,a.jsxs)("span",{className:"w-10 text-right",children:[Math.round(100*e.importance),"%"]})]})]},s))})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"直近ニュース/センチメント"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(e.evidence.news_headlines||[]).map((e,s)=>(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("a",{className:"text-blue-600 hover:underline",href:e.url,target:"_blank",rel:"noreferrer",children:e.title}),(0,a.jsx)("div",{className:"text-gray-500",children:new Date(e.published_at).toLocaleString()})]},s)),0===(e.evidence.news_headlines||[]).length&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"該当ニュースがありません"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-gray-600 mb-1",children:"テクニカル上位3指標"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(e.evidence.technical_top3||[]).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-700",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsx)("span",{className:"text-gray-500",children:e.signal})]},s)),0===(e.evidence.technical_top3||[]).length&&(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"テクニカル根拠が不足しています"})]})]})]})]})]},"".concat(e.symbol,"-").concat(s))})})]})]})}}}]);