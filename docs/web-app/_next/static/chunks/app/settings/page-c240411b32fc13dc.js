(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{94571:(e,s,l)=>{Promise.resolve().then(l.bind(l,44327))},44327:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>N});var a=l(39233),r=l(65843),d=l(95155),t=l(12115),c=l(67396),i=l(1937),n=l(29191),m=l(21773),o=l(87780),x=l(73239),h=l(61594),u=l(93467),g=l(68236),b=l(26062),j=l(81476),p=l(99257),f=l(54561),y=l(17581);function N(){let{settings:e,updateSettings:s,saveSettings:l,resetSettings:N,isLoading:v,isSaving:w}=(0,y.t)(),[_,k]=(0,t.useState)(""),[A,C]=(0,t.useState)(""),{runAnalysisWithSettings:S,isAnalyzing:I,analysisProgress:M,analysisStatus:B,getAnalysisDescription:E}=(0,f.P)(),F=(e,s)=>{k(e),C(s),setTimeout(()=>{k(""),C("")},3e3)},G=async()=>{try{await l(),F("設定が正常に保存されました","success")}catch(e){console.error("設定保存エラー:",e),F("設定の保存に失敗しました","error")}},P=async()=>{try{F("設定に基づく分析を実行しています...","success");let e=await S({analysisType:"comprehensive",useSettings:!0});e.success?F("分析が完了しました","success"):F("分析エラー: ".concat(e.error),"error")}catch(e){console.error("分析実行エラー:",e),F("分析の実行に失敗しました","error")}};return v?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,d.jsx)("p",{className:"mt-4 text-gray-600",children:"設定を読み込み中..."})]})}):(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)(i.A,{}),(0,d.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"システム設定"}),(0,d.jsx)("p",{className:"text-gray-600",children:"予測システムの動作を設定"})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,d.jsx)("button",{onClick:P,disabled:I,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:I?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"実行中..."]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"設定で分析実行"]})}),(0,d.jsxs)("button",{onClick:()=>{confirm("設定をリセットしますか？")&&(N(),F("設定がリセットされました","success"))},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,d.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"リセット"]}),(0,d.jsxs)("button",{onClick:G,disabled:w,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[(0,d.jsx)(o.A,{className:"h-4 w-4 mr-2"}),w?"保存中...":"保存"]})]})]})})}),_&&(0,d.jsx)("div",{className:"fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ".concat("success"===A?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:(0,d.jsxs)("div",{className:"flex items-center",children:["success"===A?(0,d.jsx)(x.A,{className:"h-5 w-5 mr-2"}):(0,d.jsx)(h.A,{className:"h-5 w-5 mr-2"}),_]})}),(0,d.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,d.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8",children:[(0,d.jsx)("div",{className:"w-full lg:w-1/4",children:(0,d.jsxs)("nav",{className:"bg-white rounded-lg shadow p-4 sticky top-8",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"設定メニュー"}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("a",{href:"#prediction",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"予測設定"}),(0,d.jsx)("a",{href:"#features",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"特徴量設定"}),(0,d.jsx)("a",{href:"#model",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"モデル設定"}),(0,d.jsx)("a",{href:"#data",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"データ設定"}),(0,d.jsx)("a",{href:"#ui",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"UI設定"}),(0,d.jsx)("a",{href:"#system",className:"block px-3 py-2 rounded-lg text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900",children:"システム情報"}),(0,d.jsx)("div",{className:"border-t pt-4 mt-4",children:(0,d.jsxs)(c.default,{href:"/usage",className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm font-medium text-blue-600 hover:bg-blue-50 hover:text-blue-700",children:[(0,d.jsx)(u.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{children:"使い方ガイド"})]})})]})]})}),(0,d.jsx)("div",{className:"w-full lg:w-3/4",children:(0,d.jsxs)("div",{className:"space-y-8",children:[(0,d.jsxs)("div",{className:"bg-blue-50 rounded-lg shadow p-6",children:[(0,d.jsxs)("div",{className:"flex items-center mb-4",children:[(0,d.jsx)(g.A,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"現在の設定"})]}),(()=>{let e=E();return(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"予測期間:"}),(0,d.jsx)("span",{className:"font-medium",children:e.prediction})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"モデル設定:"}),(0,d.jsx)("span",{className:"font-medium",children:e.model})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"再訓練:"}),(0,d.jsx)("span",{className:"font-medium",children:e.retrain})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"特徴量:"}),(0,d.jsx)("span",{className:"font-medium",children:e.features})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("span",{className:"text-gray-600",children:"データ量:"}),(0,d.jsx)("span",{className:"font-medium",children:e.data})]})]})]})})(),I&&(0,d.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-lg border",children:[(0,d.jsxs)("div",{className:"flex items-center mb-2",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"分析実行中..."})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,d.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(M,"%")}})}),(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:B})]})]}),(0,d.jsxs)("div",{id:"prediction",className:"bg-white rounded-lg shadow p-8",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6",children:[(0,d.jsx)(b.A,{className:"h-6 w-6 text-purple-600 mr-3"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"予測設定"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"予測期間（日数）"}),(0,d.jsx)("input",{type:"number",value:e.prediction.days,onChange:l=>s({prediction:(0,r._)((0,a._)({},e.prediction),{days:parseInt(l.target.value)})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"使用するモデル"}),(0,d.jsxs)("select",{value:e.model.type,onChange:l=>s({model:(0,r._)((0,a._)({},e.model),{type:l.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"all",children:"すべてのモデル"}),(0,d.jsx)("option",{value:"linear",children:"線形回帰"}),(0,d.jsx)("option",{value:"random_forest",children:"ランダムフォレスト"}),(0,d.jsx)("option",{value:"xgboost",children:"XGBoost"})]})]})]})]}),(0,d.jsxs)("div",{id:"features",className:"bg-white rounded-lg shadow p-8",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6",children:[(0,d.jsx)(j.A,{className:"h-6 w-6 text-green-600 mr-3"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"特徴量設定"})]}),(0,d.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"sma_5",label:"SMA_5"},{key:"sma_10",label:"SMA_10"},{key:"sma_25",label:"SMA_25"},{key:"sma_50",label:"SMA_50"},{key:"rsi",label:"RSI"},{key:"macd",label:"MACD"},{key:"bollinger_upper",label:"ボリンジャー上"},{key:"bollinger_lower",label:"ボリンジャー下"}].map(l=>(0,d.jsxs)("label",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"checkbox",checked:e.features.selected.includes(l.key),onChange:d=>{let t=d.target.checked?[...e.features.selected,l.key]:e.features.selected.filter(e=>e!==l.key);s({features:(0,r._)((0,a._)({},e.features),{selected:t})})},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,d.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:l.label})]},l.key))})]}),(0,d.jsxs)("div",{id:"model",className:"bg-white rounded-lg shadow p-8",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6",children:[(0,d.jsx)(p.A,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"モデル設定"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"プライマリモデル"}),(0,d.jsxs)("select",{value:e.model.primary_model,onChange:l=>s({model:(0,r._)((0,a._)({},e.model),{primary_model:l.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"xgboost",children:"XGBoost"}),(0,d.jsx)("option",{value:"random_forest",children:"Random Forest"}),(0,d.jsx)("option",{value:"linear_regression",children:"線形回帰"}),(0,d.jsx)("option",{value:"ridge",children:"Ridge回帰"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"再訓練頻度"}),(0,d.jsxs)("select",{value:e.model.retrain_frequency,onChange:l=>s({model:(0,r._)((0,a._)({},e.model),{retrain_frequency:l.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"daily",children:"毎日"}),(0,d.jsx)("option",{value:"weekly",children:"毎週"}),(0,d.jsx)("option",{value:"monthly",children:"毎月"}),(0,d.jsx)("option",{value:"manual",children:"手動"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"checkbox",checked:e.model.compare_models,onChange:l=>s({model:(0,r._)((0,a._)({},e.model),{compare_models:l.target.checked})}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,d.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"モデル比較を有効にする"})]}),(0,d.jsxs)("div",{className:"ml-6 text-xs text-gray-500",children:[(0,d.jsx)("p",{children:"• 複数の機械学習モデル（XGBoost、ランダムフォレスト、線形回帰など）を同時に実行し、性能を比較します"}),(0,d.jsx)("p",{children:"• より正確な予測が可能ですが、実行時間が長くなります"}),(0,d.jsx)("p",{children:"• 最適なモデルが自動的に選択され、結果に表示されます"})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"checkbox",checked:e.model.auto_retrain,onChange:l=>s({model:(0,r._)((0,a._)({},e.model),{auto_retrain:l.target.checked})}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,d.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"自動再訓練を有効にする"})]}),(0,d.jsxs)("div",{className:"ml-6 text-xs text-gray-500",children:[(0,d.jsx)("p",{children:"• 設定した頻度（週次/月次）でモデルを自動的に再訓練します"}),(0,d.jsx)("p",{children:"• 新しいデータに基づいてモデルの精度を向上させます"}),(0,d.jsx)("p",{children:"• 再訓練はバックグラウンドで実行され、完了時に通知されます"}),(0,d.jsx)("p",{children:"• 注意: 再訓練中は一時的に分析機能が制限される場合があります"})]})]})]})]}),(0,d.jsxs)("div",{id:"data",className:"bg-white rounded-lg shadow p-8",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6",children:[(0,d.jsx)(j.A,{className:"h-6 w-6 text-green-600 mr-3"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"データ設定"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"データ更新間隔"}),(0,d.jsxs)("select",{value:e.data.refresh_interval,onChange:l=>s({data:(0,r._)((0,a._)({},e.data),{refresh_interval:l.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"realtime",children:"リアルタイム"}),(0,d.jsx)("option",{value:"hourly",children:"1時間ごと"}),(0,d.jsx)("option",{value:"daily",children:"毎日"}),(0,d.jsx)("option",{value:"weekly",children:"毎週"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大データポイント数"}),(0,d.jsx)("input",{type:"number",value:e.data.max_data_points,onChange:l=>s({data:(0,r._)((0,a._)({},e.data),{max_data_points:parseInt(l.target.value)})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"checkbox",checked:e.data.include_technical_indicators,onChange:l=>s({data:(0,r._)((0,a._)({},e.data),{include_technical_indicators:l.target.checked})}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,d.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"技術指標を含める"})]})]})]}),(0,d.jsxs)("div",{id:"ui",className:"bg-white rounded-lg shadow p-8",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6",children:[(0,d.jsx)(b.A,{className:"h-6 w-6 text-purple-600 mr-3"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"UI設定"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テーマ"}),(0,d.jsxs)("select",{value:e.ui.theme,onChange:l=>s({ui:(0,r._)((0,a._)({},e.ui),{theme:l.target.value})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,d.jsx)("option",{value:"light",children:"ライト"}),(0,d.jsx)("option",{value:"dark",children:"ダーク"}),(0,d.jsx)("option",{value:"auto",children:"自動"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"更新間隔（秒）"}),(0,d.jsx)("input",{type:"number",value:e.ui.refresh_rate,onChange:l=>s({ui:(0,r._)((0,a._)({},e.ui),{refresh_rate:parseInt(l.target.value)})}),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"checkbox",checked:e.ui.show_tooltips,onChange:l=>s({ui:(0,r._)((0,a._)({},e.ui),{show_tooltips:l.target.checked})}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,d.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"ツールチップを表示"})]})]})]}),(0,d.jsxs)("div",{id:"system",className:"bg-white rounded-lg shadow p-8",children:[(0,d.jsxs)("div",{className:"flex items-center mb-6",children:[(0,d.jsx)(g.A,{className:"h-6 w-6 text-gray-600 mr-3"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"システム情報"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"バージョン"}),(0,d.jsx)("p",{className:"text-lg font-semibold",children:"v1.0.0"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"最終更新"}),(0,d.jsx)("p",{className:"text-lg font-semibold",children:"2024-09-27"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"データソース"}),(0,d.jsx)("p",{className:"text-lg font-semibold",children:"J-Quants API"})]})]})]})]})})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[76,96,358],()=>s(94571)),_N_E=e.O()}]);