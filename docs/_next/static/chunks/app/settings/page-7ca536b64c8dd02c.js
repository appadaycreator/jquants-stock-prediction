(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{94571:(e,s,l)=>{Promise.resolve().then(l.bind(l,44327))},44327:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>j});var a=l(39233),r=l(65843),t=l(95155),d=l(12115),c=l(59909),i=l(29191),n=l(21773),o=l(87780),m=l(73239),x=l(61594),u=l(26062),h=l(81476),b=l(99257),g=l(68236);function j(){let[e,s]=(0,d.useState)({prediction:{days:30},model:{type:"all",primary_model:"xgboost",compare_models:!0,auto_retrain:!1,retrain_frequency:"weekly"},data:{refresh_interval:"daily",max_data_points:1e3,include_technical_indicators:!0},features:{selected:["sma_5","sma_10","sma_25","sma_50","rsi","macd"]},ui:{theme:"light",refresh_rate:30,show_tooltips:!0}}),[l,j]=(0,d.useState)(!1),[_,p]=(0,d.useState)(!0),[f,y]=(0,d.useState)(""),[N,v]=(0,d.useState)("");(0,d.useEffect)(()=>{w()},[]);let w=async()=>{try{p(!0);let e=localStorage.getItem("jquants-settings");if(e){let l=JSON.parse(e);s(e=>(0,a._)({},e,l))}}catch(e){console.error("設定の読み込みに失敗:",e),k("設定の読み込みに失敗しました","error")}finally{p(!1)}},k=(e,s)=>{y(e),v(s),setTimeout(()=>{y(""),v("")},3e3)},C=async()=>{try{j(!0),localStorage.setItem("jquants-settings",JSON.stringify(e)),k("設定が正常に保存されました","success")}catch(e){console.error("設定保存エラー:",e),k("設定の保存に失敗しました","error")}finally{j(!1)}},A=async()=>{try{k("分析を実行しています...","success"),setTimeout(()=>{k("分析が完了しました（シミュレーション）","success")},2e3)}catch(e){console.error("分析実行エラー:",e),k("分析の実行に失敗しました","error")}};return _?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"設定を読み込み中..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(c.A,{}),(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"システム設定"}),(0,t.jsx)("p",{className:"text-gray-600",children:"予測システムの動作を設定"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("button",{onClick:A,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700",children:[(0,t.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"分析実行"]}),(0,t.jsxs)("button",{onClick:()=>{confirm("設定をリセットしますか？")&&s({prediction:{days:30},model:{type:"all",primary_model:"xgboost",compare_models:!0,auto_retrain:!1,retrain_frequency:"weekly"},data:{refresh_interval:"daily",max_data_points:1e3,include_technical_indicators:!0},features:{selected:["sma_5","sma_10","sma_25","sma_50","rsi","macd"]},ui:{theme:"light",refresh_rate:30,show_tooltips:!0}})},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,t.jsx)(n.A,{className:"h-4 w-4 mr-2"}),"リセット"]}),(0,t.jsxs)("button",{onClick:C,disabled:l,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50",children:[(0,t.jsx)(o.A,{className:"h-4 w-4 mr-2"}),l?"保存中...":"保存"]})]})]})})}),f&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ".concat("success"===N?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["success"===N?(0,t.jsx)(m.A,{className:"h-5 w-5 mr-2"}):(0,t.jsx)(x.A,{className:"h-5 w-5 mr-2"}),f]})}),(0,t.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)(u.A,{className:"h-6 w-6 text-purple-600 mr-3"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"予測設定"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"予測期間（日数）"}),(0,t.jsx)("input",{type:"number",value:e.prediction.days,onChange:l=>s((0,r._)((0,a._)({},e),{prediction:(0,r._)((0,a._)({},e.prediction),{days:parseInt(l.target.value)})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"使用するモデル"}),(0,t.jsxs)("select",{value:e.model.type,onChange:l=>s((0,r._)((0,a._)({},e),{model:(0,r._)((0,a._)({},e.model),{type:l.target.value})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"すべてのモデル"}),(0,t.jsx)("option",{value:"linear",children:"線形回帰"}),(0,t.jsx)("option",{value:"random_forest",children:"ランダムフォレスト"}),(0,t.jsx)("option",{value:"xgboost",children:"XGBoost"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)(h.A,{className:"h-6 w-6 text-green-600 mr-3"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"特徴量設定"})]}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{key:"sma_5",label:"SMA_5"},{key:"sma_10",label:"SMA_10"},{key:"sma_25",label:"SMA_25"},{key:"sma_50",label:"SMA_50"},{key:"rsi",label:"RSI"},{key:"macd",label:"MACD"},{key:"bollinger_upper",label:"ボリンジャー上"},{key:"bollinger_lower",label:"ボリンジャー下"}].map(l=>(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.features.selected.includes(l.key),onChange:t=>{let d=t.target.checked?[...e.features.selected,l.key]:e.features.selected.filter(e=>e!==l.key);s((0,r._)((0,a._)({},e),{features:(0,r._)((0,a._)({},e.features),{selected:d})}))},className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:l.label})]},l.key))})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)(b.A,{className:"h-6 w-6 text-blue-600 mr-3"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"モデル設定"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"プライマリモデル"}),(0,t.jsxs)("select",{value:e.model.primary_model,onChange:l=>s((0,r._)((0,a._)({},e),{model:(0,r._)((0,a._)({},e.model),{primary_model:l.target.value})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"xgboost",children:"XGBoost"}),(0,t.jsx)("option",{value:"random_forest",children:"Random Forest"}),(0,t.jsx)("option",{value:"linear_regression",children:"線形回帰"}),(0,t.jsx)("option",{value:"ridge",children:"Ridge回帰"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"再訓練頻度"}),(0,t.jsxs)("select",{value:e.model.retrain_frequency,onChange:l=>s((0,r._)((0,a._)({},e),{model:(0,r._)((0,a._)({},e.model),{retrain_frequency:l.target.value})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"daily",children:"毎日"}),(0,t.jsx)("option",{value:"weekly",children:"毎週"}),(0,t.jsx)("option",{value:"monthly",children:"毎月"}),(0,t.jsx)("option",{value:"manual",children:"手動"})]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.model.compare_models,onChange:l=>s((0,r._)((0,a._)({},e),{model:(0,r._)((0,a._)({},e.model),{compare_models:l.target.checked})})),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,t.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"モデル比較を有効にする"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.model.auto_retrain,onChange:l=>s((0,r._)((0,a._)({},e),{model:(0,r._)((0,a._)({},e.model),{auto_retrain:l.target.checked})})),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,t.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"自動再訓練を有効にする"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)(h.A,{className:"h-6 w-6 text-green-600 mr-3"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"データ設定"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"データ更新間隔"}),(0,t.jsxs)("select",{value:e.data.refresh_interval,onChange:l=>s((0,r._)((0,a._)({},e),{data:(0,r._)((0,a._)({},e.data),{refresh_interval:l.target.value})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"realtime",children:"リアルタイム"}),(0,t.jsx)("option",{value:"hourly",children:"1時間ごと"}),(0,t.jsx)("option",{value:"daily",children:"毎日"}),(0,t.jsx)("option",{value:"weekly",children:"毎週"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"最大データポイント数"}),(0,t.jsx)("input",{type:"number",value:e.data.max_data_points,onChange:l=>s((0,r._)((0,a._)({},e),{data:(0,r._)((0,a._)({},e.data),{max_data_points:parseInt(l.target.value)})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.data.include_technical_indicators,onChange:l=>s((0,r._)((0,a._)({},e),{data:(0,r._)((0,a._)({},e.data),{include_technical_indicators:l.target.checked})})),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,t.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"技術指標を含める"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)(u.A,{className:"h-6 w-6 text-purple-600 mr-3"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"UI設定"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"テーマ"}),(0,t.jsxs)("select",{value:e.ui.theme,onChange:l=>s((0,r._)((0,a._)({},e),{ui:(0,r._)((0,a._)({},e.ui),{theme:l.target.value})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"light",children:"ライト"}),(0,t.jsx)("option",{value:"dark",children:"ダーク"}),(0,t.jsx)("option",{value:"auto",children:"自動"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"更新間隔（秒）"}),(0,t.jsx)("input",{type:"number",value:e.ui.refresh_rate,onChange:l=>s((0,r._)((0,a._)({},e),{ui:(0,r._)((0,a._)({},e.ui),{refresh_rate:parseInt(l.target.value)})})),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.ui.show_tooltips,onChange:l=>s((0,r._)((0,a._)({},e),{ui:(0,r._)((0,a._)({},e.ui),{show_tooltips:l.target.checked})})),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-500 focus:ring-blue-500"}),(0,t.jsx)("label",{className:"ml-2 text-sm text-gray-700",children:"ツールチップを表示"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-6",children:[(0,t.jsx)(g.A,{className:"h-6 w-6 text-gray-600 mr-3"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"システム情報"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"バージョン"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"v1.0.0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"最終更新"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"2024-09-27"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"データソース"}),(0,t.jsx)("p",{className:"text-lg font-semibold",children:"J-Quants API"})]})]})]})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[96,76,358],()=>s(94571)),_N_E=e.O()}]);