(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{610:function(e,t,s){Promise.resolve().then(s.bind(s,3057))},6215:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},1671:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9388:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},1723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},8736:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3276:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},7168:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},3057:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var a=s(7437),r=s(2265),n=s(9820),l=s(2381),c=s(9174),i=s(5583),o=s(1780),d=s(6796),u=s(3966),f=s(6840),m="Progress",[x,v]=(0,u.b)(m),[h,p]=x(m),g=r.forwardRef((e,t)=>{var s,r,n,l;let{__scopeProgress:c,value:u=null,max:m,getValueLabel:x=b}=e,v=(0,d._)(e,["__scopeProgress","value","max","getValueLabel"]);(m||0===m)&&!_(m)&&console.error((s="".concat(m),r="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let p=_(m)?m:100;null===u||k(u,p)||console.error((n="".concat(u),l="Progress","Invalid prop `value` of value `".concat(n,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let g=k(u,p)?u:null,j=w(g)?x(g,p):void 0;return(0,a.jsx)(h,{scope:c,value:g,max:p,children:(0,a.jsx)(f.WV.div,(0,o._)((0,i._)({"aria-valuemax":p,"aria-valuemin":0,"aria-valuenow":w(g)?g:void 0,"aria-valuetext":j,role:"progressbar","data-state":y(g,p),"data-value":null!=g?g:void 0,"data-max":p},v),{ref:t}))})});g.displayName=m;var j="ProgressIndicator",N=r.forwardRef((e,t)=>{var s;let{__scopeProgress:r}=e,n=(0,d._)(e,["__scopeProgress"]),l=p(j,r);return(0,a.jsx)(f.WV.div,(0,o._)((0,i._)({"data-state":y(l.value,l.max),"data-value":null!==(s=l.value)&&void 0!==s?s:void 0,"data-max":l.max},n),{ref:t}))});function b(e,t){return"".concat(Math.round(e/t*100),"%")}function y(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function w(e){return"number"==typeof e}function _(e){return w(e)&&!isNaN(e)&&e>0}function k(e,t){return w(e)&&!isNaN(e)&&e<=t&&e>=0}N.displayName=j;var Z=s(961);let C=r.forwardRef((e,t)=>{var{className:s,value:r}=e,n=(0,d._)(e,["className","value"]);return(0,a.jsx)(g,(0,o._)((0,i._)({ref:t,className:(0,Z.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s)},n),{children:(0,a.jsx)(N,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})}))});C.displayName=g.displayName;var z=s(3362),M=s(5937),R=s(7168),V=s(3276),O=s(6215),S=s(4401),P=s(8736),Y=s(1671),T=s(9388),A=s(1723);function F(){let[e,t]=(0,r.useState)(!1),[s,i]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[u,f]=(0,r.useState)("overview"),m=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";t(!0),i(null);try{let t=await fetch("/api/test/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({testType:e})}),s=await t.json();i(s)}catch(e){i({success:!1,error:e instanceof Error?e.message:"Unknown error"})}finally{t(!1)}},x=async()=>{t(!0),d(null);try{let e=await fetch("/api/test/run"),t=await e.json();t.success&&t.stats&&d(t.stats),i(t)}catch(e){i({success:!1,error:e instanceof Error?e.message:"Unknown error"})}finally{t(!1)}},v=e=>e>=80?"default":e>=60?"secondary":"destructive";return(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"テストカバレッジ"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"テストの実行とカバレッジの確認ができます"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.z,{onClick:()=>m("all"),disabled:e,variant:"outline",children:[e?(0,a.jsx)(R.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,a.jsx)(V.Z,{className:"w-4 h-4 mr-2"}),"テスト実行"]}),(0,a.jsxs)(l.z,{onClick:()=>m("coverage"),disabled:e,variant:"outline",children:[e?(0,a.jsx)(R.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,a.jsx)(O.Z,{className:"w-4 h-4 mr-2"}),"カバレッジ生成"]}),(0,a.jsxs)(l.z,{onClick:x,disabled:e,children:[e?(0,a.jsx)(R.Z,{className:"w-4 h-4 mr-2 animate-spin"}):(0,a.jsx)(S.Z,{className:"w-4 h-4 mr-2"}),"カバレッジ分析"]})]})]}),(0,a.jsxs)(z.mQ,{value:u,onValueChange:f,className:"space-y-4",children:[(0,a.jsxs)(z.dr,{children:[(0,a.jsx)(z.SP,{value:"overview",children:"概要"}),(0,a.jsx)(z.SP,{value:"coverage",children:"カバレッジ詳細"}),(0,a.jsx)(z.SP,{value:"results",children:"テスト結果"})]}),(0,a.jsx)(z.nU,{value:"overview",className:"space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"ステートメント"}),(0,a.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:o?"".concat(o.statements.percentage.toFixed(1),"%"):"--"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:o?"".concat(o.statements.covered,"/").concat(o.statements.total):"データなし"}),o&&(0,a.jsx)(C,{value:o.statements.percentage,className:"mt-2"})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"ブランチ"}),(0,a.jsx)(O.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:o?"".concat(o.branches.percentage.toFixed(1),"%"):"--"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:o?"".concat(o.branches.covered,"/").concat(o.branches.total):"データなし"}),o&&(0,a.jsx)(C,{value:o.branches.percentage,className:"mt-2"})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"関数"}),(0,a.jsx)(S.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:o?"".concat(o.functions.percentage.toFixed(1),"%"):"--"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:o?"".concat(o.functions.covered,"/").concat(o.functions.total):"データなし"}),o&&(0,a.jsx)(C,{value:o.functions.percentage,className:"mt-2"})]})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(n.ll,{className:"text-sm font-medium",children:"行"}),(0,a.jsx)(Y.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(n.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:o?"".concat(o.lines.percentage.toFixed(1),"%"):"--"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:o?"".concat(o.lines.covered,"/").concat(o.lines.total):"データなし"}),o&&(0,a.jsx)(C,{value:o.lines.percentage,className:"mt-2"})]})]})]})}),(0,a.jsx)(z.nU,{value:"coverage",className:"space-y-4",children:o?(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsx)(n.ll,{children:"カバレッジ詳細"}),(0,a.jsx)(n.SZ,{children:"各メトリクスの詳細なカバレッジ情報"})]}),(0,a.jsx)(n.aY,{className:"space-y-4",children:Object.entries(o).map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium capitalize",children:t}),(0,a.jsxs)(c.C,{variant:v(s.percentage),children:[s.percentage.toFixed(1),"%"]})]}),(0,a.jsx)(C,{value:s.percentage,className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:["カバー済み: ",s.covered]}),(0,a.jsxs)("span",{children:["総数: ",s.total]})]})]},t)})})]})}):(0,a.jsxs)(M.bZ,{children:[(0,a.jsx)(O.Z,{className:"h-4 w-4"}),(0,a.jsx)(M.X,{children:"カバレッジデータがありません。「カバレッジ分析」ボタンをクリックしてデータを生成してください。"})]})}),(0,a.jsxs)(z.nU,{value:"results",className:"space-y-4",children:[s&&(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsxs)(n.ll,{className:"flex items-center gap-2",children:[s.success?(0,a.jsx)(Y.Z,{className:"h-5 w-5 text-green-600"}):(0,a.jsx)(T.Z,{className:"h-5 w-5 text-red-600"}),"テスト結果"]}),(0,a.jsx)(n.SZ,{children:s.testType&&"テストタイプ: ".concat(s.testType)})]}),(0,a.jsx)(n.aY,{children:s.success?(0,a.jsxs)("div",{className:"space-y-4",children:[s.output&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"出力:"}),(0,a.jsx)("pre",{className:"bg-muted p-4 rounded-md text-sm overflow-auto max-h-96",children:s.output})]}),s.error&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2 text-yellow-600",children:"警告:"}),(0,a.jsx)("pre",{className:"bg-yellow-50 p-4 rounded-md text-sm overflow-auto max-h-96",children:s.error})]})]}):(0,a.jsxs)(M.bZ,{variant:"destructive",children:[(0,a.jsx)(T.Z,{className:"h-4 w-4"}),(0,a.jsx)(M.X,{children:s.error||"テストの実行に失敗しました。"})]})})]}),!s&&!e&&(0,a.jsxs)(M.bZ,{children:[(0,a.jsx)(A.Z,{className:"h-4 w-4"}),(0,a.jsx)(M.X,{children:"テストがまだ実行されていません。上記のボタンを使用してテストを実行してください。"})]})]})]})]})}},5937:function(e,t,s){"use strict";s.d(t,{Cd:function(){return u},X:function(){return f},bZ:function(){return d}});var a=s(5583),r=s(6796),n=s(7437),l=s(2265),c=s(535),i=s(961);let o=(0,c.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=l.forwardRef((e,t)=>{var{className:s,variant:l}=e,c=(0,r._)(e,["className","variant"]);return(0,n.jsx)("div",(0,a._)({ref:t,role:"alert",className:(0,i.cn)(o({variant:l}),s)},c))});d.displayName="Alert";let u=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)("h5",(0,a._)({ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",s)},l))});u.displayName="AlertTitle";let f=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",s)},l))});f.displayName="AlertDescription"},9174:function(e,t,s){"use strict";s.d(t,{C:function(){return o}});var a=s(5583),r=s(6796),n=s(7437);s(2265);var l=s(535),c=s(961);let i=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){var{className:t,variant:s}=e,l=(0,r._)(e,["className","variant"]);return(0,n.jsx)("div",(0,a._)({className:(0,c.cn)(i({variant:s}),t)},l))}},2381:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var a=s(5583),r=s(6796),n=s(7437),l=s(2265),c=s(535),i=s(961);let o=(0,c.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{var{className:s,variant:l,size:c,asChild:d=!1}=e,u=(0,r._)(e,["className","variant","size","asChild"]);return(0,n.jsx)("button",(0,a._)({className:(0,i.cn)(o({variant:l,size:c,className:s})),ref:t},u))});d.displayName="Button"},9820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return o},SZ:function(){return u},Zb:function(){return i},aY:function(){return f},ll:function(){return d}});var a=s(5583),r=s(6796),n=s(7437),l=s(2265),c=s(961);let i=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s)},l))});i.displayName="Card";let o=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",s)},l))});o.displayName="CardHeader";let d=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)("h3",(0,a._)({ref:t,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",s)},l))});d.displayName="CardTitle";let u=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)("p",(0,a._)({ref:t,className:(0,c.cn)("text-sm text-muted-foreground",s)},l))});u.displayName="CardDescription";let f=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,c.cn)("p-6 pt-0",s)},l))});f.displayName="CardContent",l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)("div",(0,a._)({ref:t,className:(0,c.cn)("flex items-center p-6 pt-0",s)},l))}).displayName="CardFooter"},3362:function(e,t,s){"use strict";s.d(t,{SP:function(){return u},dr:function(){return d},mQ:function(){return o},nU:function(){return f}});var a=s(5583),r=s(6796),n=s(7437),l=s(2265),c=s(9707),i=s(961);let o=c.fC,d=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)(c.aV,(0,a._)({ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s)},l))});d.displayName=c.aV.displayName;let u=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)(c.xz,(0,a._)({ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s)},l))});u.displayName=c.xz.displayName;let f=l.forwardRef((e,t)=>{var{className:s}=e,l=(0,r._)(e,["className"]);return(0,n.jsx)(c.VY,(0,a._)({ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s)},l))});f.displayName=c.VY.displayName},961:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(1994),r=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}}},function(e){e.O(0,[405,707,971,117,744],function(){return e(e.s=610)}),_N_E=e.O()}]);