graph TD;
    A[リフレッシュトークンの取得] --> B[IDトークンの取得];
    B --> C[株価データの取得];
    C --> D[データを'stock_data.csv'に保存];
    D --> E[CSVファイルを読み込む];
    E --> F[必要なカラムを選択];
    F --> G[日付をdatetime型に変換];
    G --> H[欠損値の処理];
    H --> I[移動平均を追加];
    I --> J[遅延特徴量を追加];
    J --> K[処理済みデータを'processed_stock_data.csv'に保存];
    K --> L[処理済みデータを読み込む];
    L --> M[説明変数と目的変数を設定];
    M --> N[データを訓練データとテストデータに分割];
    N --> O[モデルの作成];
    O --> P[予測と評価];
    P --> Q[結果の可視化];