(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5147],{44560:function(e,s,r){Promise.resolve().then(r.bind(r,72427))},72427:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return N}});var t=r(57437),a=r(2265),l=r(79820),n=r(69174),i=r(95937),c=r(17168),d=r(41671),o=r(49322),x=r(76865),m=r(99388),u=r(42488),h=r(95252),f=r(88906),j=r(3085),g=r(70525);function N(){let[e,s]=(0,a.useState)(null),[r,N]=(0,a.useState)([]),[p,v]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),[w,_]=(0,a.useState)([]),[k,Z]=(0,a.useState)([]),[C,O]=(0,a.useState)(!0),[Y,R]=(0,a.useState)(null);(0,a.useEffect)(()=>{S()},[]);let S=async()=>{try{O(!0);let[e,r,t,a,l,n]=await Promise.all([fetch("/data/risk_portfolio_overview.json"),fetch("/data/risk_positions.json"),fetch("/data/risk_metrics_chart.json"),fetch("/data/risk_position_performance.json"),fetch("/data/risk_alerts.json"),fetch("/data/risk_recommendations.json")]);if(e.ok||console.warn("ポートフォリオ概要データの読み込みに失敗:",e.status),r.ok||console.warn("ポジションデータの読み込みに失敗:",r.status),t.ok||console.warn("リスクメトリクスデータの読み込みに失敗:",t.status),a.ok||console.warn("パフォーマンスデータの読み込みに失敗:",a.status),l.ok||console.warn("アラートデータの読み込みに失敗:",l.status),n.ok||console.warn("推奨データの読み込みに失敗:",n.status),e.ok){let r=await e.json();s(r)}if(r.ok){let e=await r.json();N(e)}if(t.ok){let e=await t.json();v(e)}if(a.ok){let e=await a.json();y(e)}if(l.ok){let e=await l.json();_(e)}if(n.ok){let e=await n.json();Z(e)}}catch(e){console.error("リスクデータの読み込みエラー:",e),s(null),N([]),v(null),y(null),_([]),Z([])}finally{O(!1)}},D=e=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),E=e=>"".concat(e.toFixed(2),"%"),P=e=>{switch(e){case"HIGH":return"bg-red-100 text-red-800 border-red-200";case"MEDIUM":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"LOW":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return C?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):e||0!==r.length||0!==w.length||0!==k.length?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDEE1️ リスク管理ダッシュボード"}),(0,t.jsx)("p",{className:"text-gray-600",children:"現在のポジション状況、損切りライン、リスクレベルを可視化"})]}),e&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"ポートフォリオ価値"}),(0,t.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:D(e.portfolio_value)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["未実現損益: ",D(e.total_unrealized_pnl)]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"リスクレベル"}),(0,t.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(e=>{switch(e){case"LOW":return(0,t.jsx)(d.Z,{className:"h-4 w-4 text-green-500"});case"MEDIUM":return(0,t.jsx)(o.Z,{className:"h-4 w-4 text-yellow-500"});case"HIGH":return(0,t.jsx)(x.Z,{className:"h-4 w-4 text-orange-500"});case"CRITICAL":return(0,t.jsx)(m.Z,{className:"h-4 w-4 text-red-500"});default:return(0,t.jsx)(u.Z,{className:"h-4 w-4 text-gray-500"})}})(e.risk_level),(0,t.jsx)("span",{className:"text-2xl font-bold",style:{color:e.risk_color},children:e.risk_level})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["リスクスコア: ",e.risk_score.toFixed(2)]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"最大ドローダウン"}),(0,t.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-red-600",children:E(100*e.max_drawdown)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["VaR (95%): ",D(e.var_95)]})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(l.ll,{className:"text-sm font-medium",children:"シャープレシオ"}),(0,t.jsx)(g.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(l.aY,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.sharpe_ratio.toFixed(2)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"リスク調整後リターン"})]})]})]}),w.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"⚠️ リスクアラート"}),(0,t.jsx)("div",{className:"space-y-3",children:w.map(e=>(0,t.jsxs)(i.bZ,{style:{borderColor:e.color},children:[(0,t.jsx)(x.Z,{className:"h-4 w-4",style:{color:e.color}}),(0,t.jsx)(i.Cd,{children:e.title}),(0,t.jsx)(i.X,{children:e.message})]},e.id))})]}),(0,t.jsxs)(c.mQ,{defaultValue:"overview",className:"space-y-6",children:[(0,t.jsxs)(c.dr,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(c.SP,{value:"overview",children:"概要"}),(0,t.jsx)(c.SP,{value:"positions",children:"ポジション"}),(0,t.jsx)(c.SP,{value:"risk-metrics",children:"リスク指標"}),(0,t.jsx)(c.SP,{value:"recommendations",children:"推奨事項"})]}),(0,t.jsx)(c.nU,{value:"overview",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p&&(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"リスク指標推移"})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"リスクメトリクスチャート"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})})})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"ポジション分布"})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"ポジション分布チャート"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})})})]})]})}),(0,t.jsx)(c.nU,{value:"positions",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"現在のポジション"})}),(0,t.jsx)(l.aY,{children:0===r.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"ポジションデータがありません"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"データの読み込みを確認してください"})]}):(0,t.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer",onClick:()=>R(Y===e.symbol?null:e.symbol),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold",children:e.symbol}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.company_name})]}),(0,t.jsx)(n.C,{variant:"outline",style:{borderColor:e.risk_color,color:e.risk_color},children:e.risk_level})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"font-semibold",style:{color:e.pnl_color},children:D(e.unrealized_pnl)}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:E(e.unrealized_pnl_percent)})]})]}),Y===e.symbol&&(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"エントリー価格"}),(0,t.jsx)("p",{className:"font-semibold",children:D(e.entry_price)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"現在価格"}),(0,t.jsx)("p",{className:"font-semibold",children:D(e.current_price)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"損切り価格"}),(0,t.jsx)("p",{className:"font-semibold text-red-600",children:D(e.stop_loss_price)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"利確価格"}),(0,t.jsx)("p",{className:"font-semibold text-green-600",children:D(e.take_profit_price)})]})]})]},e.symbol))})})]}),b&&Y&&(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsxs)(l.ll,{children:[Y," パフォーマンス"]})}),(0,t.jsx)(l.aY,{children:b.positions.find(e=>e.symbol===Y)?(0,t.jsx)("div",{className:"flex items-center justify-center h-[400px] bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"価格チャート"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})}):null})]})]})}),(0,t.jsx)(c.nU,{value:"risk-metrics",className:"space-y-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p&&(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"ドローダウン分析"})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"ドローダウンチャート"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})})})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"ポジション別リスクスコア"})}),(0,t.jsx)(l.aY,{children:(0,t.jsx)("div",{className:"flex items-center justify-center h-[300px] bg-gray-50 rounded-lg",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"リスクスコア分布チャート"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"チャート機能は一時的に無効化されています"})]})})})]})]})}),(0,t.jsx)(c.nU,{value:"recommendations",className:"space-y-6",children:(0,t.jsxs)(l.Zb,{children:[(0,t.jsx)(l.Ol,{children:(0,t.jsx)(l.ll,{children:"リスク管理推奨事項"})}),(0,t.jsx)(l.aY,{children:0===k.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(f.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"推奨事項データがありません"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"データの読み込みを確認してください"})]}):(0,t.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:e.description}),(0,t.jsx)("p",{className:"text-sm text-blue-600 mt-2 font-medium",children:e.action})]}),(0,t.jsx)(n.C,{className:P(e.priority),children:e.priority})]})},e.id))})})]})})]})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"\uD83D\uDEE1️ リスク管理ダッシュボード"}),(0,t.jsx)("p",{className:"text-gray-600",children:"現在のポジション状況、損切りライン、リスクレベルを可視化"})]}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(x.Z,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"データが見つかりません"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-4",children:["リスク管理データの読み込みに失敗しました。",(0,t.jsx)("br",{}),"データファイルが存在することを確認してください。"]}),(0,t.jsx)("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"再読み込み"})]})})]})})}},95937:function(e,s,r){"use strict";r.d(s,{Cd:function(){return x},X:function(){return m},bZ:function(){return o}});var t=r(85583),a=r(46796),l=r(57437),n=r(2265),i=r(90535),c=r(70961);let d=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=n.forwardRef((e,s)=>{var{className:r,variant:n}=e,i=(0,a._)(e,["className","variant"]);return(0,l.jsx)("div",(0,t._)({ref:s,role:"alert",className:(0,c.cn)(d({variant:n}),r)},i))});o.displayName="Alert";let x=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)("h5",(0,t._)({ref:s,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",r)},n))});x.displayName="AlertTitle";let m=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",r)},n))});m.displayName="AlertDescription"},69174:function(e,s,r){"use strict";r.d(s,{C:function(){return d}});var t=r(85583),a=r(46796),l=r(57437);r(2265);var n=r(90535),i=r(70961);let c=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){var{className:s,variant:r}=e,n=(0,a._)(e,["className","variant"]);return(0,l.jsx)("div",(0,t._)({className:(0,i.cn)(c({variant:r}),s)},n))}},79820:function(e,s,r){"use strict";r.d(s,{Ol:function(){return d},SZ:function(){return x},Zb:function(){return c},aY:function(){return m},ll:function(){return o}});var t=r(85583),a=r(46796),l=r(57437),n=r(2265),i=r(70961);let c=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r)},n))});c.displayName="Card";let d=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r)},n))});d.displayName="CardHeader";let o=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)("h3",(0,t._)({ref:s,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r)},n))});o.displayName="CardTitle";let x=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)("p",(0,t._)({ref:s,className:(0,i.cn)("text-sm text-muted-foreground",r)},n))});x.displayName="CardDescription";let m=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("p-6 pt-0",r)},n))});m.displayName="CardContent",n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("flex items-center p-6 pt-0",r)},n))}).displayName="CardFooter"},17168:function(e,s,r){"use strict";r.d(s,{SP:function(){return x},dr:function(){return o},mQ:function(){return d},nU:function(){return m}});var t=r(85583),a=r(46796),l=r(57437),n=r(2265),i=r(41312),c=r(70961);let d=i.fC,o=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)(i.aV,(0,t._)({ref:s,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r)},n))});o.displayName=i.aV.displayName;let x=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)(i.xz,(0,t._)({ref:s,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r)},n))});x.displayName=i.xz.displayName;let m=n.forwardRef((e,s)=>{var{className:r}=e,n=(0,a._)(e,["className"]);return(0,l.jsx)(i.VY,(0,t._)({ref:s,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r)},n))});m.displayName=i.VY.displayName},70961:function(e,s,r){"use strict";r.d(s,{cn:function(){return l}});var t=r(61994),a=r(53335);function l(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.m6)((0,t.W)(s))}}},function(e){e.O(0,[1216,1744],function(){return e(e.s=44560)}),_N_E=e.O()}]);