(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{48510:function(e,t,s){Promise.resolve().then(s.t.bind(s,39974,23)),Promise.resolve().then(s.t.bind(s,2778,23)),Promise.resolve().then(s.bind(s,16698)),Promise.resolve().then(s.bind(s,46630)),Promise.resolve().then(s.bind(s,62983)),Promise.resolve().then(s.bind(s,41904)),Promise.resolve().then(s.bind(s,88314)),Promise.resolve().then(s.bind(s,55131)),Promise.resolve().then(s.bind(s,3959)),Promise.resolve().then(s.bind(s,69734)),Promise.resolve().then(s.bind(s,9462))},16698:function(e,t,s){"use strict";s.d(t,{AccessibilityProvider:function(){return l}});var r=s(57437),a=s(2265);let n=(0,a.createContext)(void 0),l=e=>{let{children:t}=e,[s,l]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,x]=(0,a.useState)(16),[f,g]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=localStorage.getItem("accessibility-settings");if(e)try{let t=JSON.parse(e);l(t.highContrast||!1),o(t.largeText||!1),d(t.reducedMotion||!1),h(t.colorBlindMode||!1),x(t.fontSize||16),g(t.screenReader||!1)}catch(e){console.warn("Failed to load accessibility settings:",e)}d(window.matchMedia("(prefers-reduced-motion: reduce)").matches)},[]),(0,a.useEffect)(()=>{localStorage.setItem("accessibility-settings",JSON.stringify({highContrast:s,largeText:i,reducedMotion:c,colorBlindMode:u,fontSize:m,screenReader:f}))},[s,i,c,u,m,f]),(0,a.useEffect)(()=>{let e=document.documentElement;s?e.classList.add("high-contrast-mode"):e.classList.remove("high-contrast-mode"),i?e.classList.add("large-text-mode"):e.classList.remove("large-text-mode"),c?e.classList.add("reduced-motion-mode"):e.classList.remove("reduced-motion-mode"),u?e.classList.add("colorblind-mode"):e.classList.remove("colorblind-mode"),e.style.fontSize="".concat(m,"px"),f?e.classList.add("screen-reader-mode"):e.classList.remove("screen-reader-mode")},[s,i,c,u,m,f]),(0,r.jsx)(n.Provider,{value:{highContrast:s,setHighContrast:l,largeText:i,setLargeText:o,reducedMotion:c,setReducedMotion:d,colorBlindMode:u,setColorBlindMode:h,fontSize:m,setFontSize:x,screenReader:f,setScreenReader:g},children:t})}},62983:function(e,t,s){"use strict";s.d(t,{default:function(){return i}});var r=s(57437),a=s(2265),n=s(30660);function l(e){let{error:t,resetErrorBoundary:s}=e,[n,l]=(0,a.useState)(!0),[i,o]=(0,a.useState)(0),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)("unknown");(0,a.useEffect)(()=>{if(h(function(e){var t;let s=e.message.toLowerCase(),r=(null===(t=e.stack)||void 0===t?void 0:t.toLowerCase())||"";return s.includes("rsc payload")||s.includes("server component")||s.includes("connection closed")?"rsc":s.includes("network")||s.includes("fetch")||s.includes("connection")||s.includes("timeout")?"network":s.includes("data")||s.includes("json")||s.includes("parse")||s.includes("invalid")?"data":r.includes("react")||r.includes("component")||s.includes("render")?"component":"unknown"}(t)),t.message.includes("Maximum update depth exceeded")){console.warn("Infinite loop detected, disabling auto-retry"),setTimeout(()=>{window.location.reload()},1e3);return}},[t]),(0,a.useCallback)(()=>{c||i>=3||(d(!0),o(e=>e+1),console.log("Auto retry attempt ".concat(i+1,"/3 for ").concat(u," error")),setTimeout(()=>{"caches"in window&&caches.keys().then(e=>{e.forEach(e=>caches.delete(e))});try{Object.keys(localStorage).forEach(e=>{(e.startsWith("app_cache:")||e.startsWith("next:"))&&localStorage.removeItem(e)})}catch(e){console.warn("Failed to clear localStorage cache:",e)}console.log("Recovery completed without reset to prevent loop"),d(!1)},Math.min(1e3*Math.pow(2,i),5e3)))},[u,i,c]);let m=(0,a.useMemo)(()=>{try{let e=JSON.parse(t.message);if(e&&"object"==typeof e&&"string"==typeof e.error_code&&"string"==typeof e.user_message)return e.user_message}catch(e){}return t.message||"予期しないエラーが発生しました"},[t]),x=(0,a.useCallback)(async()=>{let e="".concat(Date.now(),"-").concat(Math.random().toString(36).slice(2,10));try{await fetch("/api/retry",{method:"POST",headers:{"Content-Type":"application/json","Idempotency-Key":e},body:JSON.stringify({reason:"frontend_retry"})})}catch(e){}s()},[s]),f=e=>{switch(e){case"rsc":return"\uD83D\uDD04";case"network":return"\uD83C\uDF10";case"data":return"\uD83D\uDCCA";case"component":return"⚛️";default:return"⚠️"}},g=e=>{switch(e){case"rsc":return"RSC Payload エラー";case"network":return"ネットワークエラー";case"data":return"データ取得エラー";case"component":return"コンポーネントエラー";default:return"システムエラー"}},p=(0,r.jsx)("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-50",children:(0,r.jsxs)("div",{className:"bg-red-600 text-white px-4 py-3 rounded shadow-lg max-w-md",children:[(0,r.jsxs)("div",{className:"font-semibold flex items-center space-x-2",children:[(0,r.jsx)("span",{children:f(u)}),(0,r.jsx)("span",{children:g(u)}),c&&(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"})]}),(0,r.jsx)("div",{className:"text-sm opacity-90 truncate",children:m}),c&&(0,r.jsxs)("div",{className:"text-xs opacity-75 mt-1",children:["自動復旧中... (",i,"/3)"]})]})});return(0,r.jsxs)(r.Fragment,{children:[p,n&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-xl max-w-xl w-full",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"text-3xl",children:f(u)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:g(u)}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["エラーカテゴリ: ",u]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-gray-700 mb-2",children:m}),c&&(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,r.jsxs)("span",{className:"text-sm text-blue-800",children:["自動復旧を試行中... (",i,"/3)"]})]})})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:x,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:c,children:c?"復旧中...":"手動で再試行"}),(0,r.jsx)("button",{onClick:()=>window.location.href="/",className:"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors",children:"ホームに戻る"})]}),i>=3&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm text-yellow-800",children:"自動復旧に失敗しました。手動で再試行するか、ホームに戻ってください。"})}),!1]})})})]})}function i(e){let{children:t}=e;return(0,r.jsx)(n.SV,{FallbackComponent:l,children:t})}},88314:function(e,t,s){"use strict";s.d(t,{default:function(){return d}});var r=s(57437),a=s(2265),n=s(27648),l=s(99376),i=e=>{let{className:t=""}=e,[s,i]=(0,a.useState)(!1),o=(0,l.usePathname)();return(0,a.useEffect)(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),(0,a.useEffect)(()=>{i(!1)},[o]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>i(!s),className:"\n          relative z-50 p-2 rounded-md text-gray-600 dark:text-gray-300\n          hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\n          ".concat(t,"\n        "),"aria-label":"メニューを開く","aria-expanded":s,children:(0,r.jsxs)("div",{className:"w-6 h-6 flex flex-col justify-center space-y-1",children:[(0,r.jsx)("span",{className:"\n              block h-0.5 w-6 bg-current transition-all duration-300 ease-in-out\n              ".concat(s?"rotate-45 translate-y-1.5":"","\n            ")}),(0,r.jsx)("span",{className:"\n              block h-0.5 w-6 bg-current transition-all duration-300 ease-in-out\n              ".concat(s?"opacity-0":"","\n            ")}),(0,r.jsx)("span",{className:"\n              block h-0.5 w-6 bg-current transition-all duration-300 ease-in-out\n              ".concat(s?"-rotate-45 -translate-y-1.5":"","\n            ")})]})}),s&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 transition-opacity duration-300",onClick:()=>i(!1)}),(0,r.jsxs)("div",{className:"\n          fixed top-0 left-0 z-50 h-full w-80 max-w-[85vw] bg-white dark:bg-gray-900\n          shadow-xl transform transition-transform duration-300 ease-in-out\n          ".concat(s?"translate-x-0":"-translate-x-full","\n        "),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"メニュー"}),(0,r.jsx)("button",{onClick:()=>i(!1),className:"p-2 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"メニューを閉じる",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("nav",{className:"flex-1 overflow-y-auto py-4",children:(0,r.jsx)("ul",{className:"space-y-1 px-4",children:[{href:"/",label:"ダッシュボード",icon:"\uD83D\uDCCA"},{href:"/today",label:"今日の分析",icon:"\uD83D\uDCC8"},{href:"/personal-investment",label:"個人投資",icon:"\uD83D\uDCB0"},{href:"/risk",label:"リスク管理",icon:"⚠️"},{href:"/reports",label:"レポート",icon:"\uD83D\uDCCB"},{href:"/five-min-routine",label:"5分ルーチン",icon:"⚡"},{href:"/analysis-progress",label:"分析進捗",icon:"\uD83D\uDD04"},{href:"/logs",label:"ログ",icon:"\uD83D\uDCDD"},{href:"/troubleshooting",label:"トラブルシューティング",icon:"\uD83D\uDD27"},{href:"/usage",label:"使用方法",icon:"❓"},{href:"/settings",label:"設定",icon:"⚙️"}].map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)(n.default,{href:e.href,className:"\n                    flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium\n                    transition-colors duration-200 group\n                    ".concat(o===e.href?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800","\n                  "),children:[(0,r.jsx)("span",{className:"text-lg",children:e.icon}),(0,r.jsx)("span",{className:"flex-1",children:e.label}),o===e.href&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-600 dark:bg-blue-400 rounded-full"})]})},e.href))})}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,r.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"J-Quants 株価予測システム"})})]})]})},o=s(27569),c=()=>{let e=(0,l.usePathname)();return(0,r.jsx)("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-30",children:(0,r.jsxs)("div",{className:"container-responsive",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center space-x-3",children:(0,r.jsxs)(n.default,{href:"/",className:"flex items-center space-x-2 text-xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",children:[(0,r.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCA"}),(0,r.jsx)("span",{className:"hidden sm:inline",children:"J-Quants"})]})}),(0,r.jsx)("nav",{className:"hidden lg:flex items-center space-x-1",children:[{href:"/",label:"ダッシュボード"},{href:"/today",label:"今日の分析"},{href:"/personal-investment",label:"個人投資"},{href:"/risk",label:"リスク管理"},{href:"/reports",label:"レポート"}].map(t=>(0,r.jsx)(n.default,{href:t.href,className:"\n                  px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200\n                  ".concat(e===t.href?"bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-900 dark:hover:text-gray-100","\n                "),children:t.label},t.href))}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"hidden sm:block",children:(0,r.jsx)(o.Z,{})}),(0,r.jsx)("div",{className:"lg:hidden",children:(0,r.jsx)(i,{})})]})]}),(0,r.jsx)("div",{className:"sm:hidden pb-4",children:(0,r.jsx)(o.Z,{})})]})})},d=e=>{let{children:t,className:s=""}=e,[n,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("sidebar-collapsed");null!==e&&l(JSON.parse(e))};return e(),window.addEventListener("storage",e),window.addEventListener("sidebar-toggle",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("sidebar-toggle",e)}},[]),(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-300 ".concat(n?"sidebar-collapsed":""),children:[(0,r.jsx)(c,{}),(0,r.jsx)("main",{className:"\n        container-responsive py-6\n        ".concat(s,"\n      "),children:t})]})}},27569:function(e,t,s){"use strict";var r=s(57437);s(2265);var a=s(69734);t.Z=()=>{let{theme:e,toggleTheme:t}=(0,a.F)();return(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"テーマ:"}),(0,r.jsxs)("button",{onClick:()=>null==t?void 0:t(),className:"flex items-center space-x-2 px-3 py-1.5 rounded-md text-sm font-medium bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700",title:"テーマを切り替え",children:[(0,r.jsx)("span",{className:"text-base",children:"dark"===e?"\uD83C\uDF19":"auto"===e?"\uD83D\uDD04":"☀️"}),(0,r.jsx)("span",{children:"dark"===e?"ダーク":"auto"===e?"自動":"ライト"})]})]})}},46630:function(e,t,s){"use strict";s.d(t,{default:function(){return u}});var r=s(57437),a=s(27648),n=s(99376),l=s(2265),i=s(32489),o=s(58293),c=s(10407),d=s(92451);function u(){let e=(0,n.usePathname)(),[t,s]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1),[m,x]=(0,l.useState)(!0),[f,g]=(0,l.useState)(!0),p=[{name:"ダッシュボード",href:"/",icon:"\uD83D\uDCCA"},{name:"今日の指示",href:"/today",icon:"\uD83C\uDFAF"},{name:"シンプル投資判断",href:"/simple-dashboard",icon:"\uD83C\uDFAF"},{name:"5分ルーティン",href:"/five-min-routine",icon:"⏱️"},{name:"個人投資",href:"/personal-investment",icon:"\uD83D\uDCBC"}],b=[{name:"詳細分析",href:"/dashboard",icon:"\uD83D\uDCC8"},{name:"銘柄一覧",href:"/listed-data",icon:"\uD83D\uDCCB"},{name:"ポートフォリオ",href:"/portfolio",icon:"\uD83D\uDCBC"},{name:"ウォッチリスト",href:"/watchlist",icon:"\uD83D\uDC41️"},{name:"レポート",href:"/reports",icon:"\uD83D\uDCD1"},{name:"分析履歴",href:"/analysis-history",icon:"\uD83D\uDCDC"},{name:"分析状況",href:"/analysis-progress",icon:"\uD83D\uDD04"},{name:"テストカバレッジ",href:"/test-coverage",icon:"\uD83E\uDDEA"},{name:"リスク管理",href:"/risk",icon:"\uD83D\uDEE1️"},{name:"設定",href:"/settings",icon:"⚙️"},{name:"使い方",href:"/usage",icon:"\uD83D\uDCD6"}];return(0,l.useEffect)(()=>{let e=localStorage.getItem("sidebar-collapsed");null!==e&&s(JSON.parse(e));let t=localStorage.getItem("sidebar-main-open"),r=localStorage.getItem("sidebar-advanced-open");null!==t&&x(JSON.parse(t)),null!==r&&g(JSON.parse(r))},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{h(!u)},className:"lg:hidden fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-md border border-gray-200",children:u?(0,r.jsx)(i.Z,{className:"h-5 w-5"}):(0,r.jsx)(o.Z,{className:"h-5 w-5"})}),u&&(0,r.jsx)("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>h(!1)}),(0,r.jsx)("nav",{className:"hidden lg:block fixed left-0 top-0 h-full bg-white border-r border-gray-200 z-40 transition-all duration-300 ".concat(t?"w-16":"w-64"),children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[!t&&(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"J-Quants株価予測"}),(0,r.jsx)("button",{onClick:()=>{let e=!t;s(e),localStorage.setItem("sidebar-collapsed",JSON.stringify(e)),window.dispatchEvent(new CustomEvent("sidebar-toggle"))},className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",title:t?"サイドバーを展開":"サイドバーを折りたたむ",children:t?(0,r.jsx)(c.Z,{className:"h-5 w-5 text-gray-600"}):(0,r.jsx)(d.Z,{className:"h-5 w-5 text-gray-600"})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[!t&&(0,r.jsxs)("button",{onClick:()=>{let e=!m;x(e),localStorage.setItem("sidebar-main-open",JSON.stringify(e))},className:"w-full flex items-center justify-between px-3 pb-2 text-xs font-semibold text-gray-500 hover:text-gray-700 transition-colors","aria-expanded":m,"aria-controls":"sidebar-section-main",children:[(0,r.jsx)("span",{children:"メイン"}),(0,r.jsx)("span",{className:"transition-transform ".concat(m?"rotate-0":"-rotate-90"),children:"▾"})]}),(0,r.jsx)("div",{id:"sidebar-section-main",role:"region","aria-hidden":!m&&!t,className:"overflow-hidden transition-all duration-300 ".concat(t?"":m?"max-h-[800px]":"max-h-0"),children:p.map(s=>{let n="/"===s.href?"/"===e:e===s.href||e.startsWith("".concat(s.href,"/"));return(0,r.jsxs)(a.default,{href:s.href,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors group ".concat(n?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"),title:t?s.name:void 0,children:[(0,r.jsx)("span",{className:"text-lg flex-shrink-0",children:s.icon}),!t&&(0,r.jsx)("span",{className:"font-medium truncate",children:s.name}),t&&(0,r.jsx)("div",{className:"absolute left-16 bg-gray-900 text-white text-sm px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:s.name})]},s.name)})}),(0,r.jsx)("div",{className:"border-t border-gray-200 my-4"}),!t&&(0,r.jsxs)("button",{onClick:()=>{let e=!f;g(e),localStorage.setItem("sidebar-advanced-open",JSON.stringify(e))},className:"w-full flex items-center justify-between px-3 pb-2 text-xs font-semibold text-gray-500 hover:text-gray-700 transition-colors","aria-expanded":f,"aria-controls":"sidebar-section-advanced",children:[(0,r.jsx)("span",{children:"分析・設定"}),(0,r.jsx)("span",{className:"transition-transform ".concat(f?"rotate-0":"-rotate-90"),children:"▾"})]}),(0,r.jsx)("div",{id:"sidebar-section-advanced",role:"region","aria-hidden":!f&&!t,className:"overflow-hidden transition-all duration-300 ".concat(t?"":f?"max-h-[1200px]":"max-h-0"),children:b.map(s=>{let n="/"===s.href?"/"===e:e===s.href||e.startsWith("".concat(s.href,"/"));return(0,r.jsxs)(a.default,{href:s.href,className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors group ".concat(n?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"),title:t?s.name:void 0,children:[(0,r.jsx)("span",{className:"text-lg flex-shrink-0",children:s.icon}),!t&&(0,r.jsx)("span",{className:"font-medium truncate",children:s.name}),t&&(0,r.jsx)("div",{className:"absolute left-16 bg-gray-900 text-white text-sm px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-50",children:s.name})]},s.name)})})]})]})}),(0,r.jsx)("nav",{className:"lg:hidden fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 z-50 transform transition-transform duration-300 ".concat(u?"translate-x-0":"-translate-x-full"),children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"J-Quants株価予測"}),(0,r.jsx)("button",{onClick:()=>h(!1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:(0,r.jsx)(i.Z,{className:"h-5 w-5 text-gray-600"})})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"px-3 pb-2 text-xs font-semibold text-gray-500",children:"メイン"}),p.map(t=>{let s="/"===t.href?"/"===e:e===t.href||e.startsWith("".concat(t.href,"/"));return(0,r.jsxs)(a.default,{href:t.href,onClick:()=>h(!1),className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ".concat(s?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)("span",{className:"text-lg",children:t.icon}),(0,r.jsx)("span",{className:"font-medium",children:t.name})]},t.name)}),(0,r.jsx)("div",{className:"border-t border-gray-200 my-4"}),(0,r.jsx)("div",{className:"px-3 pb-2 text-xs font-semibold text-gray-500",children:"分析・設定"}),b.map(t=>{let s="/"===t.href?"/"===e:e===t.href||e.startsWith("".concat(t.href,"/"));return(0,r.jsxs)(a.default,{href:t.href,onClick:()=>h(!1),className:"flex items-center gap-3 px-3 py-2 rounded-lg transition-colors ".concat(s?"bg-blue-50 text-blue-700 border border-blue-200":"text-gray-700 hover:bg-gray-50"),children:[(0,r.jsx)("span",{className:"text-lg",children:t.icon}),(0,r.jsx)("span",{className:"font-medium",children:t.name})]},t.name)})]})]})})]})}},41904:function(e,t,s){"use strict";s.d(t,{default:function(){return o}});var r=s(57437),a=s(27648),n=s(99376),l=s(2265);let i=[{href:"/",label:"ダッシュボード",icon:"\uD83D\uDCCA",shortLabel:"ホーム"},{href:"/today",label:"今日の指示",icon:"\uD83C\uDFAF",shortLabel:"今日"},{href:"/simple-dashboard",label:"シンプル投資判断",icon:"\uD83C\uDFAF",shortLabel:"判断"},{href:"/five-min-routine",label:"5分ルーティン",icon:"⏱️",shortLabel:"5分"},{href:"/personal-investment",label:"個人投資",icon:"\uD83D\uDCBC",shortLabel:"投資"}];function o(){let e=(0,n.usePathname)(),[t,s]=(0,l.useState)(!1),[o,c]=(0,l.useState)(!0),[d,u]=(0,l.useState)(!1),h=t=>"/"===t?"/"===e:e.startsWith(t);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 md:hidden",children:(0,r.jsx)("div",{className:"flex items-center justify-around px-3 py-3",children:i.map(e=>(0,r.jsxs)(a.default,{href:e.href,className:"flex flex-col items-center justify-center min-h-[48px] min-w-[48px] px-3 py-2 rounded-lg transition-colors touch-target ".concat(h(e.href)?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)("span",{className:"text-xl mb-1 leading-none",children:e.icon}),(0,r.jsx)("span",{className:"text-[13px] font-medium leading-tight text-center",children:e.shortLabel})]},e.href))})}),(0,r.jsx)("div",{className:"fixed top-4 right-4 z-50 md:hidden",children:(0,r.jsx)("button",{onClick:()=>s(!t),className:"bg-white shadow-lg rounded-full p-3 border border-gray-200 min-h-[48px] min-w-[48px] flex items-center justify-center touch-target","aria-label":"メニューを開く",children:(0,r.jsx)("span",{className:"text-lg",children:"☰"})})}),t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:()=>s(!1)}),(0,r.jsx)("div",{className:"fixed top-16 right-4 bg-white rounded-lg shadow-lg border border-gray-200 z-50 md:hidden min-w-[200px]",children:(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"メニュー"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("button",{onClick:()=>c(!o),className:"w-full flex items-center justify-between px-2 py-1 text-xs font-semibold text-gray-600 hover:text-gray-800","aria-expanded":o,children:[(0,r.jsx)("span",{children:"メイン"}),(0,r.jsx)("span",{className:"transition-transform ".concat(o?"rotate-0":"-rotate-90"),children:"▾"})]}),(0,r.jsx)("div",{className:"overflow-hidden transition-all duration-200 ".concat(o?"max-h-[600px]":"max-h-0"),children:i.map(e=>(0,r.jsxs)(a.default,{href:e.href,className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:e.icon}),(0,r.jsx)("span",{children:e.label})]},e.href))}),(0,r.jsxs)("button",{onClick:()=>u(!d),className:"w-full flex items-center justify-between px-2 py-1 text-xs font-semibold text-gray-600 hover:text-gray-800","aria-expanded":d,children:[(0,r.jsx)("span",{children:"分析・設定"}),(0,r.jsx)("span",{className:"transition-transform ".concat(d?"rotate-0":"-rotate-90"),children:"▾"})]}),(0,r.jsxs)("div",{className:"overflow-hidden transition-all duration-200 ".concat(d?"max-h-[1000px]":"max-h-0"),children:[(0,r.jsxs)(a.default,{href:"/listed-data",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDCCB"}),(0,r.jsx)("span",{children:"銘柄一覧"})]}),(0,r.jsxs)(a.default,{href:"/portfolio",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDCBC"}),(0,r.jsx)("span",{children:"ポートフォリオ"})]}),(0,r.jsxs)(a.default,{href:"/watchlist",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDC41️"}),(0,r.jsx)("span",{children:"ウォッチリスト"})]}),(0,r.jsxs)(a.default,{href:"/dashboard",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDCC8"}),(0,r.jsx)("span",{children:"詳細分析"})]}),(0,r.jsxs)(a.default,{href:"/reports",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDCD1"}),(0,r.jsx)("span",{children:"レポート"})]}),(0,r.jsxs)(a.default,{href:"/analysis-history",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDCDC"}),(0,r.jsx)("span",{children:"分析履歴"})]}),(0,r.jsxs)(a.default,{href:"/analysis-progress",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDD04"}),(0,r.jsx)("span",{children:"分析状況"})]}),(0,r.jsxs)(a.default,{href:"/test-coverage",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83E\uDDEA"}),(0,r.jsx)("span",{children:"テストカバレッジ"})]}),(0,r.jsxs)(a.default,{href:"/risk",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDEE1️"}),(0,r.jsx)("span",{children:"リスク管理"})]}),(0,r.jsxs)(a.default,{href:"/settings",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"⚙️"}),(0,r.jsx)("span",{children:"設定"})]}),(0,r.jsxs)(a.default,{href:"/usage",className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-gray-50 text-sm",onClick:()=>s(!1),children:[(0,r.jsx)("span",{children:"\uD83D\uDCD6"}),(0,r.jsx)("span",{children:"使い方"})]})]})]})]})})]})]})}},3959:function(e,t,s){"use strict";s.d(t,{SettingsProvider:function(){return o},r:function(){return c}});var r=s(85583),a=s(57437),n=s(2265);let l={prediction:{days:30},model:{type:"all",primary_model:"xgboost",compare_models:!0,auto_retrain:!1,retrain_frequency:"weekly"},data:{refresh_interval:"daily",max_data_points:1e3,include_technical_indicators:!0},features:{selected:["sma_5","sma_10","sma_25","sma_50","rsi","macd"]},ui:{theme:"light",refresh_rate:30,show_tooltips:!0}},i=(0,n.createContext)(void 0);function o(e){let{children:t}=e,[s,o]=(0,n.useState)(l),[c,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),m=async()=>{try{d(!0);let e=localStorage.getItem("jquants-settings");if(e){let t=JSON.parse(e);o(e=>(0,r._)({},e,t))}}catch(e){console.error("設定の読み込みに失敗:",e)}finally{d(!1)}},x=async()=>{try{h(!0),localStorage.setItem("jquants-settings",JSON.stringify(s))}catch(e){throw console.error("設定保存エラー:",e),e}finally{h(!1)}};return(0,n.useEffect)(()=>{(async()=>{try{d(!0);let e=localStorage.getItem("jquants-settings");if(e){let t=JSON.parse(e);o(e=>(0,r._)({},e,t))}}catch(e){console.error("設定の読み込みに失敗:",e)}finally{d(!1)}})()},[]),(0,a.jsx)(i.Provider,{value:{settings:s,updateSettings:e=>{o(t=>(0,r._)({},t,e))},loadSettings:m,saveSettings:x,resetSettings:()=>{o(l)},isLoading:c,isSaving:u},children:t})}function c(){let e=(0,n.useContext)(i);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}},69734:function(e,t,s){"use strict";s.d(t,{F:function(){return l},ThemeProvider:function(){return i}});var r=s(57437),a=s(2265);let n=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e},i=e=>{let{children:t}=e,[s,l]=(0,a.useState)("auto"),[i,o]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)");o(e.matches);let t=e=>{o(e.matches)};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,a.useEffect)(()=>{let e=localStorage.getItem("theme");e&&["light","dark","auto","blue","green","purple"].includes(e)?l(e):l("auto")},[]);let c=e=>{l(e),localStorage.setItem("theme",e)},d="auto"===s?i?"dark":"light":"blue"===s||"green"===s||"purple"===s?"light":s,u="dark"===d;return(0,a.useEffect)(()=>{let e=document.documentElement;e.classList.remove("theme-light","theme-dark","theme-blue","theme-green","theme-purple"),e.classList.add("theme-".concat(s)),e.setAttribute("data-theme",s),e.setAttribute("data-effective-theme",d)},[s,d]),(0,r.jsx)(n.Provider,{value:{theme:s,setTheme:c,toggleTheme:()=>{c("light"===s?"dark":"dark"===s?"auto":"light")},isDark:u,effectiveTheme:d},children:t})}},9462:function(e,t,s){"use strict";s.d(t,{G:function(){return d},UserProfileProvider:function(){return c}});var r=s(85583),a=s(57437),n=s(2265);let l={capitalAmount:1e6,riskTolerance:"MEDIUM",preferredSectors:[],esgPreference:!1,maxPositions:8,excludeSymbols:[]},i=(0,n.createContext)(null),o="user_profile";function c(e){let{children:t}=e,[s,c]=(0,n.useState)(l);(0,n.useEffect)(()=>{try{let e=localStorage.getItem(o);if(e){let t=JSON.parse(e);"number"==typeof t.capitalAmount&&t.capitalAmount>=0&&c((0,r._)({},l,t))}}catch(e){}},[]);let d=e=>{c(t=>{let s="function"==typeof e?e(t):e;try{localStorage.setItem(o,JSON.stringify(s))}catch(e){}return s})},u=()=>d(l),h=(0,n.useMemo)(()=>({profile:s,setProfile:d,resetProfile:u}),[s]);return(0,a.jsx)(i.Provider,{value:h,children:t})}function d(){let e=(0,n.useContext)(i);if(!e)throw Error("useUserProfile must be used within UserProfileProvider");return e}},2778:function(){}},function(e){e.O(0,[3149,2461,1216,5131,1744],function(){return e(e.s=48510)}),_N_E=e.O()}]);