(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4497],{61158:function(e,s,r){Promise.resolve().then(r.bind(r,95936))},95936:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return Z},dynamic:function(){return _}});var t=r(57437),a=r(2265),n=r(79820),c=r(69174),l=r(12381),i=r(20265),d=r(15051),m=r(21047),x=r(76865),o=r(33245),u=r(91723),h=r(82431),f=r(95937);let g=()=>{let[e,s]=(0,a.useState)(null),[r,t]=(0,a.useState)(!0),[n,c]=(0,a.useState)(null),[l,i]=(0,a.useState)(null),d=(0,a.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{t(!0),c(null);let a=await fetch(e?"/api/simple-dashboard?refresh=true":"/api/simple-dashboard",{method:"GET",headers:{"Content-Type":"application/json"},cache:e?"no-cache":"default"});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));let n=await a.json();if(!n.success){var r;throw Error((null===(r=n.error)||void 0===r?void 0:r.message)||"データの取得に失敗しました")}s(n.data),i(n.data.lastUpdate)}catch(e){console.error("シンプルダッシュボードデータ取得エラー:",e),c(e instanceof Error?e.message:"データの取得に失敗しました")}finally{t(!1)}},[]),m=(0,a.useCallback)(async()=>{await d(!0)},[d]);return(0,a.useEffect)(()=>{d()},[d]),(0,a.useEffect)(()=>{let e=setInterval(()=>{d()},3e4);return()=>clearInterval(e)},[d]),{data:e,loading:r,error:n,refreshData:m,lastUpdate:l}};var j=r(95252),N=r(58896),v=r(70525),p=r(3085),b=r(88906);let y=e=>{let s,{recommendation:r}=e;return(0,t.jsxs)(n.Zb,{className:"border-l-4 border-l-blue-500",children:[(0,t.jsxs)(n.Ol,{className:"pb-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(n.ll,{className:"text-lg",children:r.symbolName}),(0,t.jsxs)(c.C,{className:(e=>{switch(e){case"BUY":return"bg-green-100 text-green-800 border-green-200";case"SELL":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(r.action),children:[(e=>{switch(e){case"BUY":return(0,t.jsx)(i.Z,{className:"h-4 w-4 text-green-600"});case"SELL":return(0,t.jsx)(d.Z,{className:"h-4 w-4 text-red-600"});default:return(0,t.jsx)(m.Z,{className:"h-4 w-4 text-gray-600"})}})(r.action),(0,t.jsx)("span",{className:"ml-1",children:r.action})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:r.symbol})]}),(0,t.jsx)(n.aY,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-1",children:"理由"}),(0,t.jsx)("p",{className:"text-sm",children:r.reason})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"信頼度"}),(0,t.jsxs)("p",{className:"text-sm font-medium",children:[r.confidence,"%"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"期待リターン"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:(s=r.expectedReturn,"".concat(s>=0?"+":"").concat(s.toFixed(1),"%"))})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(c.C,{className:(e=>{switch(e){case"HIGH":return"bg-red-100 text-red-800";case"MEDIUM":return"bg-yellow-100 text-yellow-800";case"LOW":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(r.priority),children:r.priority}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:r.timeframe})]})]})})]})},w=e=>{let{summary:s}=e,r=e=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),a=e=>"".concat(e>=0?"+":"").concat(e.toFixed(1),"%");return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(n.Zb,{children:(0,t.jsx)(n.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j.Z,{className:"h-8 w-8 text-blue-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"総投資額"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:r(s.totalInvestment)})]})]})})}),(0,t.jsx)(n.Zb,{children:(0,t.jsx)(n.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(N.Z,{className:"h-8 w-8 text-green-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"現在価値"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:r(s.currentValue)})]})]})})}),(0,t.jsx)(n.Zb,{children:(0,t.jsx)(n.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[s.unrealizedPnL>=0?(0,t.jsx)(v.Z,{className:"h-8 w-8 text-green-600"}):(0,t.jsx)(p.Z,{className:"h-8 w-8 text-red-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"未実現損益"}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(s.unrealizedPnL>=0?"text-green-600":"text-red-600"),children:r(s.unrealizedPnL)}),(0,t.jsx)("p",{className:"text-sm ".concat(s.unrealizedPnLPercent>=0?"text-green-600":"text-red-600"),children:a(s.unrealizedPnLPercent)})]})]})})}),(0,t.jsx)(n.Zb,{children:(0,t.jsx)(n.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.Z,{className:"h-8 w-8 text-purple-600"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"ベストパフォーマー"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:s.bestPerformer.symbolName}),(0,t.jsx)("p",{className:"text-sm text-green-600",children:a(s.bestPerformer.return)})]})]})})})]})},_="force-dynamic";function Z(){let{data:e,loading:s,error:r,refreshData:a}=g(),j=e=>{switch(e){case"BUY":case"BUY_MORE":return(0,t.jsx)(i.Z,{className:"h-4 w-4 text-green-600"});case"SELL":return(0,t.jsx)(d.Z,{className:"h-4 w-4 text-red-600"});default:return(0,t.jsx)(m.Z,{className:"h-4 w-4 text-gray-600"})}},N=e=>{switch(e){case"BUY":case"BUY_MORE":return"bg-green-100 text-green-800 border-green-200";case"SELL":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},v=e=>new Intl.NumberFormat("ja-JP",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),p=e=>"".concat(e>=0?"+":"").concat(e.toFixed(1),"%");return s?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mb-6"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(e=>(0,t.jsx)("div",{className:"h-48 bg-gray-200 rounded"},e))})]})})}):r?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsxs)(f.bZ,{className:"border-red-200 bg-red-50",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),(0,t.jsx)(f.X,{children:r})]})})}):e?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"シンプル投資判断"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["最終更新: ",new Date(e.lastUpdate).toLocaleString("ja-JP")]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 text-gray-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:e.marketStatus.isOpen?"市場開場中":"市場閉場中"})]}),(0,t.jsxs)(l.z,{onClick:a,variant:"outline",size:"sm",disabled:s,children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2 ".concat(s?"animate-spin":"")}),"更新"]})]})]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"今日の推奨アクション"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.recommendations.map(e=>(0,t.jsx)(y,{recommendation:e},e.id))})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"損益状況"}),(0,t.jsx)(w,{summary:e.portfolioSummary})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"保有銘柄"}),(0,t.jsx)("div",{className:"space-y-4",children:e.positions.map(e=>(0,t.jsx)(n.Zb,{children:(0,t.jsxs)(n.aY,{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:e.symbolName}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:e.symbol})]}),(0,t.jsxs)(c.C,{className:N(e.action),children:[j(e.action),(0,t.jsx)("span",{className:"ml-1",children:e.action})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"現在価値"}),(0,t.jsx)("p",{className:"text-lg font-medium",children:v(e.currentValue)}),(0,t.jsxs)("p",{className:"text-sm ".concat(e.unrealizedPnL>=0?"text-green-600":"text-red-600"),children:[v(e.unrealizedPnL)," (",p(e.unrealizedPnLPercent),")"]})]})]}),(0,t.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"数量"}),(0,t.jsxs)("p",{className:"font-medium",children:[e.quantity,"株"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"平均価格"}),(0,t.jsx)("p",{className:"font-medium",children:v(e.averagePrice)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"現在価格"}),(0,t.jsx)("p",{className:"font-medium",children:v(e.currentPrice)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"信頼度"}),(0,t.jsxs)("p",{className:"font-medium",children:[e.confidence,"%"]})]})]})]})},e.symbol))})]})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,t.jsxs)(f.bZ,{children:[(0,t.jsx)(o.Z,{className:"h-4 w-4"}),(0,t.jsx)(f.X,{children:"データがありません"})]})})})}},95937:function(e,s,r){"use strict";r.d(s,{Cd:function(){return x},X:function(){return o},bZ:function(){return m}});var t=r(85583),a=r(46796),n=r(57437),c=r(2265),l=r(90535),i=r(70961);let d=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),m=c.forwardRef((e,s)=>{var{className:r,variant:c}=e,l=(0,a._)(e,["className","variant"]);return(0,n.jsx)("div",(0,t._)({ref:s,role:"alert",className:(0,i.cn)(d({variant:c}),r)},l))});m.displayName="Alert";let x=c.forwardRef((e,s)=>{var{className:r}=e,c=(0,a._)(e,["className"]);return(0,n.jsx)("h5",(0,t._)({ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r)},c))});x.displayName="AlertTitle";let o=c.forwardRef((e,s)=>{var{className:r}=e,c=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,t._)({ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r)},c))});o.displayName="AlertDescription"},69174:function(e,s,r){"use strict";r.d(s,{C:function(){return d}});var t=r(85583),a=r(46796),n=r(57437);r(2265);var c=r(90535),l=r(70961);let i=(0,c.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){var{className:s,variant:r}=e,c=(0,a._)(e,["className","variant"]);return(0,n.jsx)("div",(0,t._)({className:(0,l.cn)(i({variant:r}),s)},c))}},12381:function(e,s,r){"use strict";r.d(s,{z:function(){return m}});var t=r(85583),a=r(46796),n=r(57437),c=r(2265),l=r(90535),i=r(70961);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),m=c.forwardRef((e,s)=>{var{className:r,variant:c,size:l,asChild:m=!1}=e,x=(0,a._)(e,["className","variant","size","asChild"]);return(0,n.jsx)("button",(0,t._)({className:(0,i.cn)(d({variant:c,size:l,className:r})),ref:s},x))});m.displayName="Button"},79820:function(e,s,r){"use strict";r.d(s,{Ol:function(){return d},SZ:function(){return x},Zb:function(){return i},aY:function(){return o},ll:function(){return m}});var t=r(85583),a=r(46796),n=r(57437),c=r(2265),l=r(70961);let i=c.forwardRef((e,s)=>{var{className:r}=e,c=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,t._)({ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r)},c))});i.displayName="Card";let d=c.forwardRef((e,s)=>{var{className:r}=e,c=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,t._)({ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r)},c))});d.displayName="CardHeader";let m=c.forwardRef((e,s)=>{var{className:r}=e,c=(0,a._)(e,["className"]);return(0,n.jsx)("h3",(0,t._)({ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r)},c))});m.displayName="CardTitle";let x=c.forwardRef((e,s)=>{var{className:r}=e,c=(0,a._)(e,["className"]);return(0,n.jsx)("p",(0,t._)({ref:s,className:(0,l.cn)("text-sm text-muted-foreground",r)},c))});x.displayName="CardDescription";let o=c.forwardRef((e,s)=>{var{className:r}=e,c=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,t._)({ref:s,className:(0,l.cn)("p-6 pt-0",r)},c))});o.displayName="CardContent",c.forwardRef((e,s)=>{var{className:r}=e,c=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,t._)({ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",r)},c))}).displayName="CardFooter"},70961:function(e,s,r){"use strict";r.d(s,{cn:function(){return n}});var t=r(61994),a=r(53335);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.m6)((0,t.W)(s))}}},function(e){e.O(0,[1216,1744],function(){return e(e.s=61158)}),_N_E=e.O()}]);