(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9703],{90493:function(e,s,t){Promise.resolve().then(t.bind(t,38025))},38025:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return g}});var r=t(57437),a=t(2265),n=t(79820),i=t(12381),l=t(95937),c=t(69174),d=t(41671),o=t(99388),u=t(82431),x=t(33276),m=t(85954),f=t(76865),v=t(91723);function g(){let[e,s]=(0,a.useState)(!1),[t,g]=(0,a.useState)(null),[h,N]=(0,a.useState)(null),j=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"quick";s(!0),N(null),g(null);try{let s=await fetch("/api/test/routine",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({testType:e})}),t=await s.json();t.success?g(t.results):N(t.message||"テストの実行に失敗しました")}catch(e){N("テストの実行中にエラーが発生しました")}finally{s(!1)}},p=e=>"passed"===e?(0,r.jsx)(d.Z,{className:"h-4 w-4 text-green-500"}):(0,r.jsx)(o.Z,{className:"h-4 w-4 text-red-500"}),b=e=>"passed"===e?(0,r.jsx)(c.C,{variant:"default",className:"bg-green-100 text-green-800",children:"成功"}):(0,r.jsx)(c.C,{variant:"destructive",children:"失敗"}),y=e=>{let s=Math.floor(e/1e3);return"".concat(Math.floor(s/60),":").concat((s%60).toString().padStart(2,"0"))};return(0,r.jsx)("div",{className:"container mx-auto py-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"ルーティンテスト"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"5分ルーティンの動作確認とパフォーマンステスト"})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsx)(n.ll,{children:"テスト実行"}),(0,r.jsx)(n.SZ,{children:"ルーティンウィザードの動作確認を行います"})]}),(0,r.jsx)(n.aY,{children:(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)(i.z,{onClick:()=>j("quick"),disabled:e,className:"flex items-center gap-2",children:[e?(0,r.jsx)(u.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(x.Z,{className:"h-4 w-4"}),"クイックテスト"]}),(0,r.jsxs)(i.z,{onClick:()=>j("full"),disabled:e,variant:"outline",className:"flex items-center gap-2",children:[e?(0,r.jsx)(u.Z,{className:"h-4 w-4 animate-spin"}):(0,r.jsx)(m.Z,{className:"h-4 w-4"}),"フルテスト（5分制限）"]})]})})]}),h&&(0,r.jsxs)(l.bZ,{variant:"destructive",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4"}),(0,r.jsx)(l.X,{children:h})]}),t&&(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[(0,r.jsxs)(n.ll,{className:"flex items-center gap-2",children:[(0,r.jsx)(v.Z,{className:"h-5 w-5"}),"テスト結果"]}),(0,r.jsxs)(n.SZ,{children:["開始時刻: ",new Date(t.startTime).toLocaleString()]})]}),(0,r.jsxs)(n.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:t.summary.totalTests}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"総テスト数"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:t.summary.passed}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"成功"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:t.summary.failed}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"失敗"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[t.summary.successRate.toFixed(1),"%"]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"成功率"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:y(t.summary.averageTime)}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:"平均時間"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:"テスト詳細"}),t.tests.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[p(e.status),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.details})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[b(e.status),(0,r.jsx)("span",{className:"text-sm text-gray-500",children:y(e.duration)})]})]},s))]}),(0,r.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[t.summary.successRate>=80?(0,r.jsx)(d.Z,{className:"h-5 w-5 text-green-600"}):(0,r.jsx)(o.Z,{className:"h-5 w-5 text-red-600"}),(0,r.jsx)("span",{className:"font-semibold",children:t.summary.successRate>=80?"テスト合格":"テスト不合格"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-700",children:t.summary.successRate>=80?"ルーティンシステムは正常に動作しており、本番環境での使用に適しています。":"ルーティンシステムに問題があります。設定を確認してください。"}),t.summary.averageTime>3e5&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-2",children:"⚠️ 平均時間が5分を超過しています。パフォーマンスの改善が必要です。"})]})]})]})]})})}},95937:function(e,s,t){"use strict";t.d(s,{Cd:function(){return u},X:function(){return x},bZ:function(){return o}});var r=t(85583),a=t(46796),n=t(57437),i=t(2265),l=t(90535),c=t(70961);let d=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=i.forwardRef((e,s)=>{var{className:t,variant:i}=e,l=(0,a._)(e,["className","variant"]);return(0,n.jsx)("div",(0,r._)({ref:s,role:"alert",className:(0,c.cn)(d({variant:i}),t)},l))});o.displayName="Alert";let u=i.forwardRef((e,s)=>{var{className:t}=e,i=(0,a._)(e,["className"]);return(0,n.jsx)("h5",(0,r._)({ref:s,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",t)},i))});u.displayName="AlertTitle";let x=i.forwardRef((e,s)=>{var{className:t}=e,i=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:s,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",t)},i))});x.displayName="AlertDescription"},69174:function(e,s,t){"use strict";t.d(s,{C:function(){return d}});var r=t(85583),a=t(46796),n=t(57437);t(2265);var i=t(90535),l=t(70961);let c=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d(e){var{className:s,variant:t}=e,i=(0,a._)(e,["className","variant"]);return(0,n.jsx)("div",(0,r._)({className:(0,l.cn)(c({variant:t}),s)},i))}},12381:function(e,s,t){"use strict";t.d(s,{z:function(){return o}});var r=t(85583),a=t(46796),n=t(57437),i=t(2265),l=t(90535),c=t(70961);let d=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=i.forwardRef((e,s)=>{var{className:t,variant:i,size:l,asChild:o=!1}=e,u=(0,a._)(e,["className","variant","size","asChild"]);return(0,n.jsx)("button",(0,r._)({className:(0,c.cn)(d({variant:i,size:l,className:t})),ref:s},u))});o.displayName="Button"},79820:function(e,s,t){"use strict";t.d(s,{Ol:function(){return d},SZ:function(){return u},Zb:function(){return c},aY:function(){return x},ll:function(){return o}});var r=t(85583),a=t(46796),n=t(57437),i=t(2265),l=t(70961);let c=i.forwardRef((e,s)=>{var{className:t}=e,i=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t)},i))});c.displayName="Card";let d=i.forwardRef((e,s)=>{var{className:t}=e,i=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t)},i))});d.displayName="CardHeader";let o=i.forwardRef((e,s)=>{var{className:t}=e,i=(0,a._)(e,["className"]);return(0,n.jsx)("h3",(0,r._)({ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t)},i))});o.displayName="CardTitle";let u=i.forwardRef((e,s)=>{var{className:t}=e,i=(0,a._)(e,["className"]);return(0,n.jsx)("p",(0,r._)({ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t)},i))});u.displayName="CardDescription";let x=i.forwardRef((e,s)=>{var{className:t}=e,i=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:s,className:(0,l.cn)("p-6 pt-0",t)},i))});x.displayName="CardContent",i.forwardRef((e,s)=>{var{className:t}=e,i=(0,a._)(e,["className"]);return(0,n.jsx)("div",(0,r._)({ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t)},i))}).displayName="CardFooter"},70961:function(e,s,t){"use strict";t.d(s,{cn:function(){return n}});var r=t(61994),a=t(53335);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.m6)((0,r.W)(s))}}},function(e){e.O(0,[1216,1744],function(){return e(e.s=90493)}),_N_E=e.O()}]);