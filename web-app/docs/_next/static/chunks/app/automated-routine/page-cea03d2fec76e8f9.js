(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5070],{29309:function(e,t,s){Promise.resolve().then(s.bind(s,99729))},79205:function(e,t,s){"use strict";s.d(t,{Z:function(){return x}});var r=s(85583),a=s(46796),l=s(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),i=e=>{let t=c(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()},d=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u=s(1780),h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let m=(0,l.forwardRef)((e,t)=>{var{color:s="currentColor",size:n=24,strokeWidth:c=2,absoluteStrokeWidth:i,className:m="",children:x,iconNode:f}=e,p=(0,a._)(e,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return(0,l.createElement)("svg",(0,r._)((0,u._)((0,r._)({ref:t},h),{width:n,height:n,stroke:s,strokeWidth:i?24*Number(c)/Number(n):c,className:o("lucide",m)}),!x&&!d(p)&&{"aria-hidden":"true"},p),[...f.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(x)?x:[x]])}),x=(e,t)=>{let s=(0,l.forwardRef)((s,c)=>{var{className:d}=s,u=(0,a._)(s,["className"]);return(0,l.createElement)(m,(0,r._)({ref:c,iconNode:t,className:o("lucide-".concat(n(i(e))),"lucide-".concat(e),d)},u))});return s.displayName=i(e),s}},94766:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},40875:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},92451:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},10407:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},22135:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},49322:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},41671:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91723:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},89345:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},33276:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},82431:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},98728:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},33388:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])},70525:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(79205).Z)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},99729:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var r=s(57437),a=s(2265),l=s(85583),n=s(1780),c=s(33388),i=s(98728),o=s(41671),d=s(49322),u=s(91723),h=s(94766),m=s(89345),x=s(79205);let f=(0,x.Z)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var p=s(33276),b=s(70525);function g(e){let{onRoutineStart:t,onRoutineComplete:s,onRoutineError:x,className:g=""}=e,[v,y]=(0,a.useState)(null),[j,w]=(0,a.useState)(!1),[N,k]=(0,a.useState)([]),[Z,E]=(0,a.useState)({execution_time:"09:00",email_enabled:!1,slack_enabled:!1,browser_enabled:!0}),S=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/scheduler/status");if(e.ok){let t=await e.json();y(t)}}catch(e){console.error("ステータス取得エラー:",e)}},[]),C=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/notifications");if(e.ok){let t=await e.json();k(t.notifications||[])}}catch(e){console.error("通知取得エラー:",e)}},[]),_=async()=>{w(!0);try{let e=await fetch("/api/scheduler/manual-execute",{method:"POST",headers:{"Content-Type":"application/json"}});if(e.ok){let t=await e.json();null==s||s(t),await S()}else throw Error("手動実行に失敗しました")}catch(e){null==x||x(e)}finally{w(!1)}},L=async e=>{try{(await fetch("/api/scheduler/settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(E(e),await S())}catch(e){console.error("設定更新エラー:",e)}};return(0,a.useEffect)(()=>{S(),C()},[S,C]),(0,a.useEffect)(()=>{let e=setInterval(()=>{S(),C()},3e4);return()=>clearInterval(e)},[S,C]),(0,r.jsxs)("div",{className:"automated-routine-mobile ".concat(g),children:[(0,r.jsxs)("div",{className:"mobile-header bg-gradient-to-r from-blue-600 to-purple-600 text-white p-4 rounded-t-lg",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.Z,{className:"w-6 h-6"}),(0,r.jsx)("h1",{className:"text-lg font-bold",children:"5分ルーティン自動化"})]}),(0,r.jsx)(i.Z,{className:"w-6 h-6"})]}),(0,r.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"完全自動化された投資分析システム"})]}),v&&(0,r.jsxs)("div",{className:"p-4 bg-gray-50",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o.Z,{className:"w-5 h-5 text-green-500"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"実行回数"})]}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v.executionCount})]}),(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(d.Z,{className:"w-5 h-5 text-red-500"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"エラー回数"})]}),(0,r.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:v.errorCount})]})]}),(0,r.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)(u.Z,{className:"w-5 h-5 text-blue-500"}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"次回実行予定"})]}),(0,r.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:["明日 ",v.executionTime]}),v.lastExecution&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["前回実行: ",new Date(v.lastExecution).toLocaleString("ja-JP")]})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center space-x-2",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"通知設定"})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(m.Z,{className:"w-5 h-5 text-blue-500"}),(0,r.jsx)("span",{className:"font-medium",children:"メール通知"})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:Z.email_enabled,onChange:e=>L((0,n._)((0,l._)({},Z),{email_enabled:e.target.checked})),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(f,{className:"w-5 h-5 text-green-500"}),(0,r.jsx)("span",{className:"font-medium",children:"Slack通知"})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:Z.slack_enabled,onChange:e=>L((0,n._)((0,l._)({},Z),{slack_enabled:e.target.checked})),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(c.Z,{className:"w-5 h-5 text-purple-500"}),(0,r.jsx)("span",{className:"font-medium",children:"ブラウザ通知"})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:Z.browser_enabled,onChange:e=>L((0,n._)((0,l._)({},Z),{browser_enabled:e.target.checked})),className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsx)("button",{onClick:_,disabled:j,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-4 px-6 rounded-lg font-semibold text-lg flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,r.jsx)("span",{children:"実行中..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"今すぐ実行"})]})}),(0,r.jsx)("p",{className:"text-sm text-gray-600 text-center mt-2",children:"手動で5分ルーティンを実行します"})]}),N.length>0&&(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center space-x-2",children:[(0,r.jsx)(h.Z,{className:"w-5 h-5"}),(0,r.jsx)("span",{children:"最近の通知"})]}),(0,r.jsx)("div",{className:"space-y-2",children:N.slice(0,3).map((e,t)=>(0,r.jsx)("div",{className:"bg-white p-3 rounded-lg shadow-sm border-l-4 border-blue-500",children:(0,r.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,r.jsx)(b.Z,{className:"w-4 h-4 text-blue-500 mt-1"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:new Date(e.timestamp).toLocaleString("ja-JP")})]})]})},t))})]}),(0,r.jsx)("div",{className:"p-4 bg-gray-50 rounded-b-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"J-Quants株価予測システム v2.0"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"完全自動化された投資分析システム"})]})})]})}var v=s(40875),y=s(22135);function j(e){let{children:t,enableScrollToTop:s=!0,enableScrollIndicator:l=!0,className:n=""}=e,[c,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(0),[u,h]=(0,a.useState)(!1),m=(0,a.useRef)(null),x=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=m.current;if(!e)return;let t=()=>{let t=e.scrollTop;d(Math.min(t/(e.scrollHeight-e.clientHeight),1)),i(t>200),h(!0),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{h(!1)},150)};return e.addEventListener("scroll",t,{passive:!0}),()=>{e.removeEventListener("scroll",t),x.current&&clearTimeout(x.current)}},[]),(0,r.jsxs)("div",{className:"mobile-vertical-layout ".concat(n),children:[(0,r.jsx)("div",{ref:m,className:"mobile-content mobile-scroll-y mobile-scroll-smooth",style:{height:"100vh",overflowY:"auto",WebkitOverflowScrolling:"touch"},children:t}),l&&(0,r.jsx)("div",{className:"fixed right-4 top-1/2 transform -translate-y-1/2 z-30",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,r.jsx)("div",{className:"w-1 h-32 bg-gray-200 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"w-full bg-blue-600 transition-all duration-200",style:{height:"".concat(100*o,"%"),transform:"translateY(0)"}})}),(0,r.jsx)("button",{onClick:()=>{if(m.current){let e=m.current,t=e.scrollHeight,s=e.clientHeight,r=e.scrollTop;e.scrollTo({top:Math.min(r+.8*s,t-s),behavior:"smooth"})}},className:"mobile-touch-target p-2 rounded-full bg-white shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors",disabled:o>=.95,children:(0,r.jsx)(v.Z,{className:"h-4 w-4 text-gray-600"})})]})}),s&&c&&(0,r.jsx)("button",{onClick:()=>{m.current&&m.current.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-20 right-4 mobile-touch-target p-3 rounded-full bg-blue-600 text-white shadow-lg hover:bg-blue-700 transition-all duration-200 z-30",children:(0,r.jsx)(y.Z,{className:"h-5 w-5"})}),u&&(0,r.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-40",children:(0,r.jsx)("div",{className:"bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:"スクロール中..."})})]})}var w=s(92451);let N=(0,x.Z)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var k=s(10407);function Z(e){let{children:t,onPageChange:s,enableSwipe:l=!0,enableDots:n=!0,enableArrows:c=!0,autoPlay:i=!1,autoPlayInterval:o=5e3,className:d=""}=e,[u,h]=(0,a.useState)(0),[m,x]=(0,a.useState)(!1),[f,p]=(0,a.useState)(0),[b,g]=(0,a.useState)(0),[v,y]=(0,a.useState)(0),[j,Z]=(0,a.useState)(!1),E=(0,a.useRef)(null),S=(0,a.useRef)(null),C=(0,a.useCallback)(e=>{e<0||e>=t.length||(h(e),Z(!0),s&&s(e),setTimeout(()=>{Z(!1)},300))},[t.length,s]),_=(0,a.useCallback)(()=>{C((u+1)%t.length)},[u,t.length,C]),L=(0,a.useCallback)(()=>{C(0===u?t.length-1:u-1)},[u,t.length,C]);(0,a.useEffect)(()=>(i&&t.length>1&&(S.current=setInterval(_,o)),()=>{S.current&&clearInterval(S.current)}),[i,o,_,t.length]);let M=(0,a.useCallback)(e=>{l&&(x(!0),p(e.touches[0].clientX),g(e.touches[0].clientX),y(0),S.current&&clearInterval(S.current))},[l]),z=(0,a.useCallback)(e=>{if(!m||!l)return;e.preventDefault();let t=e.touches[0].clientX,s=t-f;g(t),y(s)},[m,l,f]),T=(0,a.useCallback)(()=>{if(!m||!l)return;x(!1);let e=b-f;Math.abs(e)>50&&(e>0?L():_()),y(0),p(0),g(0),i&&t.length>1&&(S.current=setInterval(_,o))},[m,l,b,f,L,_,i,o,t.length]),A=(0,a.useCallback)(e=>{l&&(x(!0),p(e.clientX),g(e.clientX),y(0),S.current&&clearInterval(S.current))},[l]),R=(0,a.useCallback)(e=>{if(!m||!l)return;let t=e.clientX,s=t-f;g(t),y(s)},[m,l,f]),P=(0,a.useCallback)(()=>{if(!m||!l)return;x(!1);let e=b-f;Math.abs(e)>50&&(e>0?L():_()),y(0),p(0),g(0),i&&t.length>1&&(S.current=setInterval(_,o))},[m,l,b,f,L,_,i,o,t.length]);return(0,a.useEffect)(()=>(m&&(document.addEventListener("mousemove",R),document.addEventListener("mouseup",P)),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",P)}),[m,R,P]),(0,r.jsxs)("div",{className:"swipe-navigation ".concat(d),children:[(0,r.jsxs)("div",{ref:E,className:"relative overflow-hidden",onTouchStart:M,onTouchMove:z,onTouchEnd:T,onMouseDown:A,children:[(0,r.jsx)("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:"translateX(".concat(-(100*u)+(m?v:0),"%)"),width:"".concat(100*t.length,"%")},children:t.map((e,s)=>(0,r.jsx)("div",{className:"w-full flex-shrink-0",style:{width:"".concat(100/t.length,"%")},children:e},s))}),m&&(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:(0,r.jsx)("div",{className:"bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:v>0?"← 前へ":"次へ →"})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[c&&(0,r.jsx)("button",{onClick:L,className:"mobile-touch-target p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",disabled:t.length<=1,children:(0,r.jsx)(w.Z,{className:"h-5 w-5"})}),n&&(0,r.jsx)("div",{className:"flex items-center space-x-2",children:t.map((e,t)=>(0,r.jsx)("button",{onClick:()=>C(t),className:"mobile-touch-target p-1 rounded-full transition-colors ".concat(t===u?"bg-blue-600 text-white":"bg-gray-300 hover:bg-gray-400"),children:(0,r.jsx)(N,{className:"h-2 w-2"})},t))}),c&&(0,r.jsx)("button",{onClick:_,className:"mobile-touch-target p-2 rounded-lg bg-gray-100 hover:bg-gray-200 transition-colors",disabled:t.length<=1,children:(0,r.jsx)(k.Z,{className:"h-5 w-5"})})]}),(0,r.jsxs)("div",{className:"text-center mt-2 text-sm text-gray-600",children:[u+1," / ",t.length]})]})}var E=s(82431);function S(e){let{onRefresh:t,children:s,threshold:l=80,resistance:n=.5}=e,[c,i]=(0,a.useState)(!1),[o,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(0),[m,x]=(0,a.useState)(0),[f,p]=(0,a.useState)(0),[b,g]=(0,a.useState)(!1),v=(0,a.useRef)(null),y=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=v.current;if(!e)return;let s=t=>{0===e.scrollTop&&(g(!0),x(t.touches[0].clientY),p(t.touches[0].clientY))},r=e=>{if(!b)return;let t=e.touches[0].clientY,s=t-m;if(s>0){e.preventDefault();let r=Math.min(s*n,1.5*l);h(r),p(t),r>0&&i(!0)}},a=async()=>{if(!b||!c){o();return}if(u>=l){d(!0);try{await t()}catch(e){console.error("Refresh failed:",e)}finally{d(!1)}}o()},o=()=>{i(!1),h(0),x(0),p(0),g(!1)};return e.addEventListener("touchstart",s,{passive:!1}),e.addEventListener("touchmove",r,{passive:!1}),e.addEventListener("touchend",a,{passive:!1}),()=>{e.removeEventListener("touchstart",s),e.removeEventListener("touchmove",r),e.removeEventListener("touchend",a)}},[b,c,u,m,l,n,t]);let j=Math.min(u/l,1),w=u>=l;return(0,r.jsxs)("div",{ref:v,className:"relative overflow-auto mobile-scroll-y",children:[(0,r.jsx)("div",{ref:y,className:"fixed top-0 left-0 right-0 z-50 transition-all duration-200 ".concat(c||o?"translate-y-0":"-translate-y-full"),style:{transform:"translateY(".concat(Math.max(0,u-60),"px)")},children:(0,r.jsxs)("div",{className:"bg-white shadow-lg border-b",children:[(0,r.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"transition-all duration-200 ".concat(o?"animate-spin":""),style:{transform:"rotate(".concat(180*j,"deg)")},children:(0,r.jsx)(E.Z,{className:"h-5 w-5 text-blue-600"})}),(0,r.jsx)("div",{className:"text-sm font-medium text-gray-700",children:o?"更新中...":w?"離すと更新されます":"引っ張って更新"})]})}),(0,r.jsx)("div",{className:"h-1 bg-gray-200",children:(0,r.jsx)("div",{className:"h-full bg-blue-600 transition-all duration-200",style:{width:"".concat(100*j,"%")}})})]})}),(0,r.jsx)("div",{className:"transition-transform duration-200",style:{transform:"translateY(".concat(c?Math.min(.3*u,20):0,"px)")},children:s}),c&&(0,r.jsx)("div",{className:"fixed inset-0 pointer-events-none z-40",style:{background:"linear-gradient(to bottom, \n              rgba(59, 130, 246, ".concat(.1*j,") 0%, \n              rgba(59, 130, 246, 0) 100%)")}})]})}function C(e){let{children:t,enablePullToRefresh:s=!0,enableSwipeNavigation:l=!1,enableVerticalLayout:n=!0,onRefresh:c,swipePages:i=[],chartData:o=[],className:d=""}=e,[u,h]=(0,a.useState)(!1),[m,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{let e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),s=window.innerWidth<=768;h(t||s)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let f=async()=>{if(c){x(!0);try{await c()}catch(e){console.error("Refresh failed:",e)}finally{x(!1)}}};if(!u)return(0,r.jsx)("div",{className:"desktop-layout ".concat(d),children:t});let p=()=>l&&i.length>0?(0,r.jsx)(Z,{enableSwipe:!0,enableDots:!0,enableArrows:!0,autoPlay:!1,children:i}):n?(0,r.jsx)(j,{enableScrollToTop:!0,enableScrollIndicator:!0,children:t}):t;return(0,r.jsxs)("div",{className:"mobile-optimized-page ".concat(d),children:[s&&c?(0,r.jsx)(S,{onRefresh:f,threshold:80,resistance:.5,children:p()}):p(),m&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/20 flex items-center justify-center z-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg p-4 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,r.jsx)("span",{className:"text-gray-700",children:"更新中..."})]})})})]})}function _(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{let e=navigator.userAgent,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e),r=window.innerWidth<=768;t(s||r)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsx)(C,{enablePullToRefresh:!0,enableSwipeNavigation:!1,enableVerticalLayout:!0,onRefresh:async()=>{window.location.reload()},className:"min-h-screen bg-gray-100",children:(0,r.jsx)("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-lg overflow-hidden",children:(0,r.jsx)(g,{onRoutineStart:()=>{console.log("5分ルーティン開始")},onRoutineComplete:e=>{console.log("5分ルーティン完了:",e)},onRoutineError:e=>{console.error("5分ルーティンエラー:",e)}})})})}}},function(e){e.O(0,[2971,2117,1744],function(){return e(e.s=29309)}),_N_E=e.O()}]);