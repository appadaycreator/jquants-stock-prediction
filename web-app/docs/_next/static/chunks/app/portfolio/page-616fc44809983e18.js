(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5444],{21540:function(e,t,r){Promise.resolve().then(r.bind(r,36662))},36662:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var s=r(57437),n=r(2265),a=r(79820),l=r(69174),i=r(12381),c=r(82431),o=r(33245),d=r(70525),x=r(3085),m=r(76865),u=r(96362),f=r(18930),h=r(31047),g=r(34338);function j(){let[e,t]=(0,n.useState)([]),[r,j]=(0,n.useState)(!0),[b,v]=(0,n.useState)(null);(0,n.useEffect)(()=>{N()},[]);let N=()=>{try{let e=JSON.parse(localStorage.getItem("user_portfolio")||"[]");t(e)}catch(e){console.error("ポートフォリオ読み込みエラー:",e),v("ポートフォリオの読み込みに失敗しました")}finally{j(!1)}},p=r=>{try{let s=e.filter(e=>e.symbol!==r);t(s),localStorage.setItem("user_portfolio",JSON.stringify(s)),v("".concat(r," をポートフォリオから削除しました"))}catch(e){console.error("ポートフォリオ削除エラー:",e),v("ポートフォリオからの削除に失敗しました")}},y=e=>{switch(e){case"BUY":return"bg-green-100 text-green-800 border-green-200";case"SELL":return"bg-red-100 text-red-800 border-red-200";case"HOLD":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=e=>{switch(e){case"HIGH":return"text-red-600";case"MEDIUM":return"text-yellow-600";case"LOW":return"text-green-600";default:return"text-gray-600"}};return r?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Z,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),(0,s.jsx)("p",{children:"ポートフォリオを読み込み中..."})]})}):(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"マイポートフォリオ"}),(0,s.jsx)("p",{className:"text-gray-600",children:"保有銘柄の管理と分析"})]}),(0,s.jsx)("div",{className:"flex space-x-2",children:(0,s.jsxs)(i.z,{variant:"outline",onClick:N,disabled:r,children:[(0,s.jsx)(c.Z,{className:"h-4 w-4 mr-2 ".concat(r?"animate-spin":"")}),"更新"]})})]}),b&&(0,s.jsx)("div",{className:"p-4 rounded-lg ".concat(b.includes("失敗")?"bg-red-100 text-red-800 border border-red-200":"bg-green-100 text-green-800 border border-green-200"),children:b}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)(a.Zb,{children:[(0,s.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.ll,{className:"text-sm font-medium",children:"総銘柄数"}),(0,s.jsx)(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(a.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.length})})]}),(0,s.jsxs)(a.Zb,{children:[(0,s.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.ll,{className:"text-sm font-medium",children:"買い推奨"}),(0,s.jsx)(d.Z,{className:"h-4 w-4 text-green-600"})]}),(0,s.jsx)(a.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"BUY"===e.recommendation).length})})]}),(0,s.jsxs)(a.Zb,{children:[(0,s.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.ll,{className:"text-sm font-medium",children:"ホールド"}),(0,s.jsx)(x.Z,{className:"h-4 w-4 text-yellow-600"})]}),(0,s.jsx)(a.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:e.filter(e=>"HOLD"===e.recommendation).length})})]}),(0,s.jsxs)(a.Zb,{children:[(0,s.jsxs)(a.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(a.ll,{className:"text-sm font-medium",children:"売り推奨"}),(0,s.jsx)(x.Z,{className:"h-4 w-4 text-red-600"})]}),(0,s.jsx)(a.aY,{children:(0,s.jsx)("div",{className:"text-2xl font-bold text-red-600",children:e.filter(e=>"SELL"===e.recommendation).length})})]})]}),0===e.length?(0,s.jsx)(a.Zb,{children:(0,s.jsx)(a.aY,{className:"flex items-center justify-center py-12",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(m.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ポートフォリオが空です"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"銘柄詳細ページから銘柄をポートフォリオに追加してください"}),(0,s.jsx)(i.z,{onClick:()=>window.location.href="/listed-data",className:"bg-blue-600 text-white hover:bg-blue-700",children:"銘柄一覧を見る"})]})})}):(0,s.jsx)("div",{className:"grid gap-4",children:e.map(e=>(0,s.jsxs)(a.Zb,{className:"hover:shadow-md transition-shadow",children:[(0,s.jsx)(a.Ol,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold",children:e.symbol}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:e.name})]}),(0,s.jsx)(l.C,{className:y(e.recommendation),children:e.recommendation})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{window.location.href="/analysis?code=".concat(e.symbol)},className:"text-green-600 hover:text-green-800 hover:bg-green-50",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-1"}),"チャート"]}),(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>(0,g.X6)(e.symbol),className:"text-orange-600 hover:text-orange-800 hover:bg-orange-50",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-1"}),"みんかぶ"]}),(0,s.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>p(e.symbol),className:"text-red-600 hover:text-red-800 hover:bg-red-50",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-1"}),"削除"]})]})]})}),(0,s.jsxs)(a.aY,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"現在価格"}),(0,s.jsxs)("p",{className:"font-medium",children:["\xa5",e.currentPrice.toLocaleString()]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"セクター"}),(0,s.jsx)("p",{className:"font-medium",children:e.sector})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"リスクレベル"}),(0,s.jsx)("p",{className:"font-medium ".concat(w(e.riskLevel)),children:e.riskLevel})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-600",children:"信頼度"}),(0,s.jsxs)("p",{className:"font-medium",children:[(100*e.confidence).toFixed(1),"%"]})]})]}),e.targetPrice&&(0,s.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-gray-600",children:"目標価格"}),(0,s.jsxs)("span",{className:"text-sm font-semibold text-blue-800",children:["\xa5",e.targetPrice.toLocaleString()]})]})}),(0,s.jsxs)("div",{className:"mt-4 flex items-center text-xs text-gray-500",children:[(0,s.jsx)(h.Z,{className:"h-3 w-3 mr-1"}),"追加日: ",new Date(e.addedAt).toLocaleString("ja-JP")]})]})]},e.symbol))})]})}},69174:function(e,t,r){"use strict";r.d(t,{C:function(){return o}});var s=r(85583),n=r(46796),a=r(57437);r(2265);var l=r(90535),i=r(70961);let c=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){var{className:t,variant:r}=e,l=(0,n._)(e,["className","variant"]);return(0,a.jsx)("div",(0,s._)({className:(0,i.cn)(c({variant:r}),t)},l))}},12381:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(85583),n=r(46796),a=r(57437),l=r(2265),i=r(90535),c=r(70961);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,t)=>{var{className:r,variant:l,size:i,asChild:d=!1}=e,x=(0,n._)(e,["className","variant","size","asChild"]);return(0,a.jsx)("button",(0,s._)({className:(0,c.cn)(o({variant:l,size:i,className:r})),ref:t},x))});d.displayName="Button"},79820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},SZ:function(){return x},Zb:function(){return c},aY:function(){return m},ll:function(){return d}});var s=r(85583),n=r(46796),a=r(57437),l=r(2265),i=r(70961);let c=l.forwardRef((e,t)=>{var{className:r}=e,l=(0,n._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r)},l))});c.displayName="Card";let o=l.forwardRef((e,t)=>{var{className:r}=e,l=(0,n._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r)},l))});o.displayName="CardHeader";let d=l.forwardRef((e,t)=>{var{className:r}=e,l=(0,n._)(e,["className"]);return(0,a.jsx)("h3",(0,s._)({ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r)},l))});d.displayName="CardTitle";let x=l.forwardRef((e,t)=>{var{className:r}=e,l=(0,n._)(e,["className"]);return(0,a.jsx)("p",(0,s._)({ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r)},l))});x.displayName="CardDescription";let m=l.forwardRef((e,t)=>{var{className:r}=e,l=(0,n._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:t,className:(0,i.cn)("p-6 pt-0",r)},l))});m.displayName="CardContent",l.forwardRef((e,t)=>{var{className:r}=e,l=(0,n._)(e,["className"]);return(0,a.jsx)("div",(0,s._)({ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r)},l))}).displayName="CardFooter"},70961:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(61994),n=r(53335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}},34338:function(e,t,r){"use strict";r.d(t,{X6:function(){return n}});var s=r(53834);function n(e){try{let t=function(e){let t=(0,s.To)(e);if(!t)throw Error("無効な銘柄コードです");return"https://minkabu.jp/stock/".concat(t)}(e);window.open(t,"_blank","noopener,noreferrer")}catch(e){console.error("みんかぶリンクの生成に失敗しました:",e),alert("みんかぶリンクを開けませんでした。銘柄コードを確認してください。")}}},53834:function(e,t,r){"use strict";function s(e){if(!e)return"";let t=e.trim();return/^[A-Za-z]\d{4}$/.test(t)?t.toUpperCase():/^\d+$/.test(t)&&5===t.length&&t.startsWith("0")?t.substring(1):t}function n(e){if(!e)return"";let t=e.trim();return/^[A-Za-z]\d{4}$/.test(t)?t.toUpperCase():/^\d{5}$/.test(t)&&t.startsWith("0")?t.substring(1):(/^\d{4}$/.test(t),t)}function a(e){if(!e)return null;let t=s(e);return/^\d{4}$/.test(t)?t:null}r.d(t,{G$:function(){return s},LH:function(){return n},To:function(){return a}})}},function(e){e.O(0,[1216,1744],function(){return e(e.s=21540)}),_N_E=e.O()}]);